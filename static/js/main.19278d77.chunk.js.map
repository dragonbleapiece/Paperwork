{"version":3,"sources":["Icons/save_alt.svg","Icons/code.svg","Icons/cancel.svg","Icons/arrow_right.svg","Icons/grid_on.svg","Icons/square.svg","Icons/triangle.svg","Icons/ellipse.svg","Icons/translate.svg","Icons/rotate.svg","Components/Canvas/Canvas.js","Constants.js","Components/DragBox/DragBox.js","Components/ContextMenuBox/ContextMenuBox.js","Components/Box/Box.js","Components/DropBox/DropBox.js","Components/BoxGroup/BoxGroup.js","Components/Workspace/Workspace.js","Components/Figures/Figure.js","Components/Figures/Rectangle/Rectangle.js","Components/Figures/Triangle/Triangle.js","Components/Figures/Ellipse/Ellipse.js","Components/Placement/Placement.js","Components/Input/Input.js","Components/Input/SliderBox/SliderBox.js","Components/Placement/Grid/Grid.js","Components/Input/RangeBox/RangeBox.js","Components/Markov/Markov.js","Components/Transforms/Transform.js","Components/Transforms/Translate/Translate.js","Components/Transforms/Rotate/Rotate.js","Components/Transforms/Colors/Color.js","Components/Transforms/Colors/Red.js","Components/Transforms/Colors/Blue.js","Components/Transforms/Colors/Green.js","Components/Index.js","Containers/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","p5","require","Canvas","props","_this","Object","classCallCheck","this","undefined","_instance","possibleConstructorReturn","getPrototypeOf","call","state","function","width","height","assertThisInitialized","filename","extension","_P5","savePaper","ext","arguments","length","canvasWidth","window","innerWidth","canvasHeight","innerHeight","CanvasSize","setState","self","sk","setup","bind","draw","windowResized","f","CalcCanvasSize","resizeCanvas","saveCanvas","_this$state","createCanvas","noLoop","initP5","react_default","a","createElement","className","id","Component","ItemTypes","boxSource","beginDrag","monitor","component","findDOMNode","getBoundingClientRect","getClientOffset","endDrag","item","getItem","result","getDropResult","moved","setPosition","DragBox","d","coord","x","Number","isNaN","parseInt","el","style","left","y","top","console","log","position","setStyle","onClose","Workspace","forceUpdate","_this$props","connectDragSource","isDragging","connectDragPreview","onClick","react_svg","src","cancel","icon","name","children","DragSource","connect","dragPreview","dragSource","menu","type","elements","grid_on","square","triangle","ellipse","translate","rotate","ContextMenuBox","event","data","addClassToElement","addIcon","_this2","unauthorized","indexOf","es6","holdToDisplay","menuItems","map","index","key","title","Fragment","arrow_right","subItem","handleClick","Box","next","nextType","_id","child","obj","isAuthorized","parent","filter","setChildren","elmnt","constructor","push","_this3","ref","Components_DragBox_DragBox","removeFromParent","renderBox","Components_ContextMenuBox_ContextMenuBox","getChildren","boxTarget","canDrop","hover","drop","didDrop","clientOffset","componentRect","right","bottom","DropBox","isOver","connectDropTarget","DropTarget","dropTarget","isOverCurrent","shallow","itemType","getItemType","BoxGroup","get","prototype","i","React","Children","Components_DropBox_DropBox","elmnts","setElements","addElement","box","addChild","canvas","firstBox","sendDraw","clear","DragDropContext","HTML5Backend","Figure","drawFigure","pop","Rectangle","rect","Triangle","Ellipse","Placement","Input","SliderBox","es","min","max","defaultValue","marks","step","steps","padding","trackStyle","backgroundColor","borderRadius","railStyle","handleStyle","marginTop","borderColor","dotStyle","onChange","value","Grid","columns","rows","column","row","elem","background","stroke","line","j","noStroke","scale","Input_SliderBox_SliderBox","1","20","RangeBox","trackStyleArray","Array","count","fill","handleStyleArray","pushable","Markov","proba","elementsLength","currentState","Math","random","idElement","element","rand","sliders","defaultValues","propsRange","0","100","shortid","generate","Input_RangeBox_RangeBox","Transform","Translate","destX","destY","Rotate","radians","Color","r","g","b","c","color","Red","Blue","Green","getClassFromName","target","cl","unauthorizedClass","error","App","DownloadName","DownloadFormat","downloadImage","Components_Workspace_Workspace","icon_save_alt","defaultChecked","checked","htmlFor","icon_code","Components_Canvas_Canvas","Boolean","location","hostname","match","configure","adapter","Adapter","ReactDOM","render","Containers_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kvBCIpCC,UAAKC,EAAQ,KACjBA,EAAQ,IAARA,CAAqBD,OAEfE,cAkBJ,SAAAA,EAAYC,GAAO,IAAAC,EACjB,OADiBC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,QACMM,GAApBN,EAAOO,UACDJ,OAAAK,EAAA,EAAAL,CAAAD,EAAAF,EAAOO,aAEhBL,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAH,GAAAU,KAAAL,KAAMJ,KAVRU,MAAQ,CACNC,cAAUN,EACVO,MAAO,EACPC,OAAQ,GASRd,EAAOO,UAAPJ,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,IANiBA,+EAbFc,EAAUC,QACPX,IAAfN,EAAOkB,KACRlB,EAAOkB,IAAIC,UAAUH,EAAUC,wDAoBvBD,GAA2B,IAAjBI,EAAiBC,UAAAC,OAAA,QAAAhB,IAAAe,UAAA,GAAAA,UAAA,QAAXf,EAC1BD,KAAKW,SAAWA,OACLV,IAARc,IAAmBf,KAAKY,UAAYG,4CAIvC,IAAIG,EAAgC,GAAlBC,OAAOC,WAAe,GACpCC,EAAeF,OAAOG,YAAY,IAClCC,EAAcL,EAAcG,EAAgBH,EAAcG,EAC9DrB,KAAKwB,SAAS,CAAChB,MAAOe,EAAYd,OAAQc,qCAI1C,IAAIE,EAAOzB,KASXL,EAAOkB,IAAM,IAAIpB,EART,SAACiC,GACPA,EAAGC,MAAQF,EAAKE,MAAMC,KAAKH,EAAMC,GACjCA,EAAGG,KAAOJ,EAAKI,KAAKD,KAAKH,EAAMC,GAC/BA,EAAGI,cAAgBL,EAAKK,cAAcF,KAAKH,EAAMC,GACjDA,EAAGZ,UAAYW,EAAKX,UAAUc,KAAKH,EAAMC,IAIpB,6CAGhBK,GACP/B,KAAKwB,SAAS,CACZjB,SAAUwB,wCAKZ/B,KAAKwB,SAAS,CACZjB,cAAUN,0CAIAyB,GACZ1B,KAAKgC,iBACLN,EAAGO,aAAajC,KAAKM,MAAME,MAAOR,KAAKM,MAAMG,0CAGrCiB,EAAIf,EAAUC,QACNX,IAAbU,QAAwCV,IAAdW,GAC3Bc,EAAGQ,WAAWvB,EAAUC,iCAItBc,GAAI,IAAAS,EACgBnC,KAAKM,MAAtBE,EADC2B,EACD3B,MAAOC,EADN0B,EACM1B,OACdiB,EAAGU,aAAa5B,EAAOC,GACvBiB,EAAGW,sCAGAX,GACH,IAAIK,EAAI/B,KAAKM,MAAMC,cACVN,IAAN8B,GACDA,EAAEL,+CAKJ1B,KAAKgC,iBACLhC,KAAKsC,sDAIL3C,EAAOkB,IAAIgB,wCAKX,OACEU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKE,GAAG,qBArGKC,aA4GrBjD,EAAOO,eAAYD,EACnBN,EAAOkB,SAAMZ,EASEN,oDC7HFkD,uBACN,iCCUDC,EAAY,CAChBC,UADgB,SACNnD,EAAOoD,EAASC,GACFC,sBAAYD,GAAWE,wBAG7C,OAFqBH,EAAQI,mBAI/BC,QAPgB,SAORzD,EAAOoD,EAASC,GACtB,IAAMK,EAAON,EAAQO,UACfC,EAASR,EAAQS,gBAIvB,OAHc,OAAXD,GAAmBA,EAAOE,OAC3BT,EAAUU,YAAYL,GAEjB,SAcLM,cAEJ,SAAAA,EAAYhE,GAAQ,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAA4D,GAAA9D,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA8D,GAAAvD,KAAAL,KACZJ,6EAGIiE,GACV,GAAIA,EAAJ,CACA,IAAMC,EAAQ,CACZC,EAAIC,OAAOC,MAAMC,SAASlE,KAAKJ,MAAMuE,GAAG7D,MAAM8D,MAAMC,OAAoD,EAA3CH,SAASlE,KAAKJ,MAAMuE,GAAG7D,MAAM8D,MAAMC,MAChGC,EAAIN,OAAOC,MAAMC,SAASlE,KAAKJ,MAAMuE,GAAG7D,MAAM8D,MAAMG,MAAkD,EAA1CL,SAASlE,KAAKJ,MAAMuE,GAAG7D,MAAM8D,MAAMG,MAGjGC,QAAQC,IAAIX,GACZ,IAAMM,EAAQ,CACZM,SAAY,WACZH,IAAOV,EAAES,EAAIR,EAAMQ,EAAI,KACvBD,KAAQR,EAAEE,EAAID,EAAMC,EAAI,MAE1B/D,KAAKJ,MAAMuE,GAAGQ,SAASP,2CAIKnE,IAAvBD,KAAKJ,MAAMgF,SACZ5E,KAAKJ,MAAMgF,UAEbC,GAAUC,+CAIL,IAAAC,EACuD/E,KAAKJ,MAA/CoF,GADbD,EACCE,WADDF,EACaC,mBAIpB,OAAOE,EALAH,EACgCG,oBAKrC3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkByC,QAASnF,KAAK4E,QAAQhD,KAAK5B,OACzDuC,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAKC,OAEbN,EAAkBzC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAChC1C,KAAKJ,MAAM2F,MAAQhD,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAK1C,UAAU,iBAAiB2C,IAAKrF,KAAKJ,MAAM2F,OACpEhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkB1C,KAAKJ,MAAM4F,QAE9CxF,KAAKJ,MAAM6F,kBA5CE7C,aAkDP8C,uBAAW7C,EAAeC,EA3DzC,SAAiB6C,EAAS3C,GACxB,MAAO,CACLkC,mBAAoBS,EAAQC,cAC5BZ,kBAAmBW,EAAQE,aAC3BZ,WAAYjC,EAAQiC,eAuDTS,CAA8C9B,kJCpE7D,IAAMkC,EAAO,CACX,CACEC,KAAM,YACNC,SAAU,CACR,CAACD,KAAM,OACPR,KAAMU,OAGV,CACEF,KAAM,WACNC,SAAU,CACR,CAACD,KAAM,YACPR,KAAMW,KACN,CAACH,KAAM,WACPR,KAAMY,KACN,CAACJ,KAAM,UACPR,KAAMa,OAGV,CACEL,KAAM,QACNC,SAAU,CACR,CAACD,KAAM,OACP,CAACA,KAAM,QACP,CAACA,KAAM,WAGX,CACEA,KAAM,UAER,CACEA,KAAM,YACNC,SAAU,CACR,CAACD,KAAM,YACPR,KAAMc,KACN,CAACN,KAAM,SACPR,KAAMe,QA4EGC,cApEb,SAAAA,EAAY3G,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuG,IACjB1G,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAyG,GAAAlG,KAAAL,KAAMJ,KAHRU,MAAQ,GAEWT,2EAKP2G,EAAOC,QACAxG,IAAdwG,EAAKV,OACNvB,QAAQC,IAAIgC,EAAKtC,IACjBhD,OAAOuF,kBAAkBD,EAAKV,KAAMU,EAAKtC,IACzCsC,EAAKtC,GAAGwC,QAAQF,EAAKlB,wCAIhB,IAAAqB,EAAA5G,KAEP,IAAgD,IAA7CA,KAAKJ,MAAMuE,GAAG0C,aAAaC,QAAQ,KACpC,OACEvE,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAoBpE,GAAI3C,KAAKJ,MAAM+C,GAAIqE,eAAgB,GAClDhH,KAAKJ,MAAM6F,UAKpB,IAAIwB,EAAYnB,EAAKoB,IACnB,SAAC5D,EAAM6D,GACL,IAAsD,IAAnDP,EAAKhH,MAAMuE,GAAG0C,aAAaC,QAAQxD,EAAKyC,MACzC,OAAKzC,EAAK0C,SAMAzD,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAASK,IAAKD,EAAOE,MAC3B9E,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8E,SAAA,KACE/E,EAAAC,EAAAC,cAAA,QAAOC,UAAU,+BAChBY,EAAKiC,MAAQhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA6BH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAK/B,EAAKiC,QAC1EhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA8BY,EAAKyC,OAEnDxD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA6BH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAKkC,SAGtDjE,EAAK0C,SAASkB,IACb,SAACM,EAASL,GAAV,OACE5E,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAU5B,QAASyB,EAAKa,YAAahB,KAAM,CAAEV,KAAMyB,EAAQzB,KAAM5B,GAAIyC,EAAKhH,MAAMuE,GAAIoB,KAAMiC,EAAQjC,MAAQ6B,IAAKD,GAC5GK,EAAQjC,MAAQhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA6BH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAKmC,EAAQjC,QAChFhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA8B8E,EAAQzB,UAlBxDxD,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAU5B,QAASyB,EAAKa,YAAahB,KAAM,CAAEV,KAAMzC,EAAKyC,KAAM5B,GAAIyC,EAAKhH,MAAMuE,GAAIoB,KAAMjC,EAAKiC,MAAQ6B,IAAKD,GAC9G7D,EAAKiC,MAAQhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA6BH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAK/B,EAAKiC,QAC1EhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BAA8BY,EAAKyC,SA0B7D,OACExD,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8E,SAAA,KACE/E,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAoBpE,GAAI3C,KAAKJ,MAAM+C,GAAIqE,eAAgB,GAClDhH,KAAKJ,MAAM6F,UAEhBlD,EAAAC,EAAAC,cAACsE,EAAA,EAAD,CAAapE,GAAI3C,KAAKJ,MAAM+C,IACvBsE,WAhEgBrE,aCrDvB8E,cAWJ,SAAAA,EAAY9H,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0H,IACjB7H,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA4H,GAAArH,KAAAL,KAAMJ,KANRU,MAAQ,CACNmF,SAAU,GACVrB,MAAO,IAKPvE,EAAK6C,UAAYgF,EAAIhF,UACrB7C,EAAK2F,KAAOkC,EAAIhF,UAChB7C,EAAK8H,UAAO1H,EACZJ,EAAK+H,cAAW3H,EAChBJ,EAAKgH,aAAe,GACpBhH,EAAK0F,KAAO,GAPK1F,uEARjB,OAAO6H,EAAIG,wDAkBJC,GACP,GAAIA,EAAJ,CACA,IAAIC,EAAM,IAAID,EACX3G,OAAO6G,aAAaF,EAAO9H,KAAK6G,eAAiBkB,aAAeL,GACjE1H,KAAKwB,SAAS,CACZiE,SAAU,CAAC,CAACM,KAAK+B,EAAOnF,GAAG+E,EAAI/E,4CAKzB8C,GACVzF,KAAKwB,SAAS,CACZiE,SAAUA,+CAIK,IAAAmB,EAAA5G,KACbyF,EAAWzF,KAAKJ,MAAMqI,OAAO3H,MAAMmF,SACvCA,EAAWA,EAASyC,OAAO,SAAA/D,GAAE,OAAIA,EAAGxB,KAAOiE,EAAKhH,MAAM+C,KACtD3C,KAAKJ,MAAMqI,OAAOE,YAAY1C,mCAGxB2C,QACOnI,IAAVmI,GACEA,aAAiBV,IAClB1H,KAAK2H,KAAOS,EACZpI,KAAK4H,SAAWQ,EAAMC,YAAY7C,sCAKhCD,GACNvF,KAAKuF,KAAK+C,KAAK/C,oCAGRnB,GACPpE,KAAKwB,SAAS,CACZ4C,MAAOA,iCAIN1C,0CAIS,IAAA6G,EAAAvI,KACZA,KAAK2H,UAAO1H,EACZ,IAAIwF,EAAW,GAEf,GAAGzF,KAAKM,MAAMmF,SAASxE,OAAS,EAAG,CACjC,IAAI6G,EAAQ9H,KAAKM,MAAMmF,SAAS,GAChCA,EAAS6C,KAAK/F,EAAAC,EAAAC,cAACqF,EAAM/B,KAAP,CAAYqB,IAAKU,EAAMnF,GAAIsF,OAAQjI,KAAM2C,GAAImF,EAAMnF,GAAI6F,IAAK,SAAArE,GAAOoE,EAAKZ,KAAOxD,GAAKoB,KAAMvF,KAAKuF,KAAK,MAEpH,OAAOE,sCAIP,OAAO,sCAIP,OACElD,EAAAC,EAAAC,cAAA,OAAKC,UAAW1C,KAAK0C,UAAW0B,MAAOpE,KAAKM,MAAM8D,OAChD7B,EAAAC,EAAAC,cAACsE,EAAA,EAAD,KACExE,EAAAC,EAAAC,cAACgG,EAAD,CAASlD,KAAMvF,KAAKJ,MAAM2F,KAAMC,KAAMxF,KAAKqI,YAAY3F,UAAWkC,QAAS5E,KAAK0I,iBAAiB9G,KAAK5B,MAAOmE,GAAInE,MAC/GuC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBACb1C,KAAK2I,aAE+B,IAApC3I,KAAK6G,aAAaC,QAAQ,MAAevE,EAAAC,EAAAC,cAACmG,EAAD,CAAgBjG,GAAI3C,KAAKqI,YAAY3F,UAAY1C,KAAKJ,MAAM+C,GAAIkE,aAAc7G,KAAK6G,aAAc1C,GAAInE,MAC7IuC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACX1C,KAAKM,MAAMmF,SAASxE,QAAUsB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,sBAC/B1C,KAAK6I,2BA5FNjG,aAuGlB8E,EAAIG,IAAM,EACVH,EAAIhF,UAAY,MAEDgF,kCC9Ff,IAAMoB,EAAY,CAChBC,QADgB,SACRnJ,EAAOoD,GAEAA,EAAQO,UAErB,OAAO,GAGTyF,MARgB,SAQVpJ,EAAOoD,EAASC,KAiBtBgG,KAzBgB,SAyBXrJ,EAAOoD,EAASC,GACnB,IAAID,EAAQkG,UAAZ,CAOA,IAAI5F,EAAON,EAAQO,UAGb4F,EAAenG,EAAQI,kBACvBgG,EAAgBlG,sBAAYD,GAAWE,wBAE7C,KAAGgG,EAAapF,EAAIqF,EAAcC,OAC7BF,EAAa7E,EAAI8E,EAAcE,QAC/BH,EAAapF,EAAIqF,EAAc/E,MAC/B8E,EAAa7E,EAAI8E,EAAc7E,KAYpC,OAPAjB,EAAKS,EAAIoF,EAAapF,EAAIT,EAAKS,EAC/BT,EAAKgB,EAAI6E,EAAa7E,EAAIhB,EAAKgB,EAMxB,CAAEZ,OAAO,MAKd6F,cAKJ,SAAAA,EAAY3J,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuJ,IACjB1J,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAyJ,GAAAlJ,KAAAL,KAAMJ,KAHRU,MAAQ,GAEWT,wEAKV,IAAAkF,EACwC/E,KAAKJ,MAD7CmF,EACCyE,OADDzE,EACSgE,QAChB,OAAOU,EAFA1E,EACkB0E,mBAEvBlH,EAAAC,EAAAC,cAAA,OAAKC,UAAW1C,KAAKqI,YAAY3F,WAC9B1C,KAAKJ,MAAM6F,kBAdE7C,aAoBtB2G,EAAQ7G,UAAY,UAELgH,2BAAW7G,EAAeiG,EA/FzC,SAAiBnD,EAAS3C,GACxB,MAAO,CAGLyG,kBAAmB9D,EAAQgE,aAE3BH,OAAQxG,EAAQwG,SAChBI,cAAe5G,EAAQwG,OAAO,CAAEK,SAAS,IACzCd,QAAS/F,EAAQ+F,UACjBe,SAAU9G,EAAQ+G,gBAsFPL,CAA8CH,GCzFvDS,cAEJ,SAAAA,EAAYpK,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgK,IACjBnK,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAkK,GAAA3J,KAAAL,KAAMJ,KACD8C,UAAYsH,EAAStH,UAC1B7C,EAAKmG,SAAW,GAHCnG,wEAMViI,GAEP,GAAIA,EAAJ,CACA,IAAIC,EAAM,IAAID,EACd,IAA8C,IAA3C9H,KAAK6G,aAAaC,QAAQgB,EAAMtC,OAAgBuC,aAAeL,EAAK,CACrE,IAAIjC,EAAWzF,KAAKM,MAAMmF,SAC1BA,EAAS6C,KAAK,CAACvC,KAAM+B,EAAOnF,GAAI+E,EAAI/E,KACpC3C,KAAKwB,SAAS,CACZiE,SAAUA,0CAKJA,GACVzF,KAAKgG,SAAW,GAChBlG,OAAAmK,EAAA,EAAAnK,QAAAM,EAAA,EAAAN,CAAAkK,EAAAE,WAAA,cAAAlK,MAAAK,KAAAL,KAAkByF,gCAGf/D,GACH,IAAI,IAAIyI,EAAI,EAAGA,EAAInK,KAAKgG,SAAS/E,SAAUkJ,EAAG,CAC7BnK,KAAKgG,SAASmE,GACpBtI,KAAKH,2CAIqCV,UAAAC,OAAA,QAAAhB,IAAAe,UAAA,IAAAA,UAAA,GAAAA,UAAAC,OAAA,QAAAhB,IAAAe,UAAA,IAAAA,UAAA,OAEjDgF,EAAW,GAEEoE,IAAMC,SAASnD,IAAIlH,KAAKJ,MAAM6F,SAC5C,SAACqC,EAAOX,GACDnB,EAASsC,KAAKR,wFAUZ,IAAAlB,EAAA5G,KAOZ,OANAA,KAAKgG,SAAW,GACDhG,KAAKM,MAAMmF,SAASyB,IAAI,SAACY,EAAOX,GAAR,OACrC5E,EAAAC,EAAAC,cAACqF,EAAM/B,KAAP,CAAYqB,IAAKU,EAAMnF,GAAIA,GAAImF,EAAMnF,GAAIsF,OAAQrB,EAAM4B,IAAK,SAAArE,GAAE,OAAIyC,EAAKZ,SAASmB,GAAShD,GAAIoB,KAAMqB,EAAKrB,KAAK4B,6EAa/G,OACE5E,EAAAC,EAAAC,cAAA,OAAKC,UAAW1C,KAAK0C,UAAW0B,MAAOpE,KAAKM,MAAM8D,OAC9C7B,EAAAC,EAAAC,cAACsE,EAAA,EAAD,KACExE,EAAAC,EAAAC,cAACgG,EAAD,CAASlD,KAAMvF,KAAKJ,MAAM2F,KAAMC,KAAMxF,KAAKqI,YAAY3F,UAAWkC,QAAS5E,KAAK0I,iBAAiB9G,KAAK5B,MAAO0C,UAAW1C,KAAK0C,UAAWyB,GAAInE,MAC1IuC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBACb1C,KAAK2I,YACNpG,EAAAC,EAAAC,cAAC6H,EAAD,MACuC,IAApCtK,KAAK6G,aAAaC,QAAQ,MAAevE,EAAAC,EAAAC,cAACmG,EAAD,CAAgBjG,GAAI3C,KAAKqI,YAAY3F,UAAY1C,KAAKJ,MAAM+C,GAAIkE,aAAc7G,KAAK6G,aAAc1C,GAAInE,MAC7IuC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACX1C,KAAKM,MAAMmF,SAASxE,QAAUsB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,sBAC/B1C,KAAK6I,4BA3ELnB,GAuFvBsC,EAAStH,UAAY,WAENsH,6BCxFTnF,eA2BJ,SAAAA,EAAYjF,GAAO,IAAAC,EACjB,OADiBC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6E,QACU5E,IAAxB4E,EAAU3E,UACJJ,OAAAK,EAAA,EAAAL,CAAAD,EAAAgF,EAAU3E,aAEnBL,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA+E,GAAAxE,KAAAL,KAAMJ,KACD8C,UAAY7C,EAAKwI,YAAY3F,UAClC7C,EAAKS,MAAMmF,SAAW,GACtB5F,EAAKmG,SAAW,GAChBnG,EAAKgH,aAAe,CAAC,UACrBhC,EAAU3E,UAAVJ,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,IATiBA,iFAxBA0K,QACUtK,IAAxB4E,EAAU3E,WACX2E,EAAU3E,UAAUsK,YAAYD,sCAIlBnC,QACWnI,IAAxB4E,EAAU3E,WACX2E,EAAU3E,UAAUuK,WAAWrC,oCAInBsC,QACazK,IAAxB4E,EAAU3E,WACX2E,EAAU3E,UAAUyK,SAASD,8CAKJzK,IAAxB4E,EAAU3E,WACX2E,EAAU3E,UAAU4E,4EAiBtB,IAAI8F,EAAS,IAAIjL,EACbkL,EAAW7K,KAAKgG,SAAS,GAC1B6E,EACDD,EAAOE,SAASD,EAAShJ,KAAKD,KAAKiJ,IAEnClL,EAAOkB,IAAIkK,yCAmCb,OACExI,EAAAC,EAAAC,cAAA,OAAKC,UAAW1C,KAAK0C,WACnBH,EAAAC,EAAAC,cAACmG,EAAD,CAAgBjG,GAAI3C,KAAKqI,YAAY3F,UAAWmE,aAAc7G,KAAK6G,aAAc1C,GAAInE,MACnFuC,EAAAC,EAAAC,cAAC6H,EAAD,MACItK,KAAKM,MAAMmF,SAASxE,QAAUsB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,0BAAhB,oBAC/B1C,KAAK6I,wBArFMmB,GA6FxBnF,GAAUnC,UAAY,YACtBmC,GAAU3E,eAAYD,EAEP+K,iCAAgBC,KAAhBD,CAA8BnG,ICvGvCqG,uBAEJ,SAAAA,EAAYtL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkL,IACjBrL,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAoL,GAAA7K,KAAAL,KAAMJ,KACD8C,WAAa,IAAMwI,EAAOxI,UAC/B7C,EAAKkE,EAAI,EACTlE,EAAKyE,EAAI,EACTzE,EAAKW,MAAQ,EACbX,EAAKY,OAAS,EACdZ,EAAKgH,aAAe,CAAC,KAPJhH,0EAUR6B,iCAINA,GACHA,EAAG4G,OACD5G,EAAG2E,WAAWrG,KAAKQ,MAAQ,GAAIR,KAAKS,OAAS,GAC7CT,KAAKmL,WAAWzJ,GAClBA,EAAG0J,aApBc1D,IAwBrBwD,GAAOxI,UAAY,SAEJwI,UC3BTG,uBAEJ,SAAAA,EAAYzL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqL,IACjBxL,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAuL,GAAAhL,KAAAL,KAAMJ,KACD8C,WAAa,IAAM2I,EAAU3I,UAClC7C,EAAKkE,EAAI,EACTlE,EAAKyE,EAAI,EACTzE,EAAKW,MAAQ,EACbX,EAAKY,OAAS,EANGZ,0EASR6B,GACTA,EAAG4J,KAAKtL,KAAK+D,EAAG/D,KAAKsE,EAAGtE,KAAKQ,MAAOR,KAAKS,eAZrByK,KAiBxBG,GAAU3I,UAAY,YAEP2I,UCnBTE,uBAEJ,SAAAA,EAAY3L,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuL,IACjB1L,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAyL,GAAAlL,KAAAL,KAAMJ,KACD8C,WAAa,IAAM6I,EAAS7I,UACjC7C,EAAKkE,EAAI,EACTlE,EAAKyE,EAAI,EACTzE,EAAKW,MAAQ,EACbX,EAAKY,OAAS,EANGZ,0EASR6B,GACTA,EAAGyE,SAASnG,KAAK+D,EAAG/D,KAAKsE,EAAItE,KAAKS,OAAQT,KAAK+D,EAAI/D,KAAKQ,MAAOR,KAAKsE,EAAItE,KAAKS,QAAST,KAAK+D,EAAI/D,KAAKQ,OAAS,EAAGR,KAAKsE,UAZlG4G,KAgBvBK,GAAS7I,UAAY,WAEN6I,UClBTC,uBAEJ,SAAAA,EAAY5L,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwL,IACjB3L,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA0L,GAAAnL,KAAAL,KAAMJ,KACD8C,WAAa,IAAM8I,EAAQ9I,UAChC7C,EAAKW,MAAQ,EACbX,EAAKY,OAAS,EACdZ,EAAKkE,EAAIlE,EAAKW,MAAQ,EACtBX,EAAKyE,EAAIzE,EAAKY,OAAS,EANNZ,0EASR6B,GACTA,EAAG0E,QAAQpG,KAAK+D,EAAG/D,KAAKsE,EAAGtE,KAAKQ,MAAOR,KAAKS,eAZ1ByK,KAiBtBM,GAAQ9I,UAAY,UAEL8I,UClBTC,uBAEJ,SAAAA,EAAY7L,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyL,IACjB5L,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA2L,GAAApL,KAAAL,KAAMJ,KACD8C,WAAa,IAAM+I,EAAU/I,UAFjB7C,oEAKd6B,WAPiBgG,IAYxB+D,GAAU/I,UAAY,YAEP+I,UCbAC,+JAJK9I,wBC4BL+I,uBAxBX,SAAAA,EAAY/L,GAAQ,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAA2L,GAAA7L,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA6L,GAAAtL,KAAAL,KACVJ,0EAGD,IAAAC,EAAAG,KACL,OACAuC,EAAAC,EAAAC,cAACmJ,GAAA,EAAD,CACAC,IAAK7L,KAAKJ,MAAMiM,IAChBC,IAAK9L,KAAKJ,MAAMkM,IAChBC,aAAc/L,KAAKJ,MAAMmM,aACzBC,MAAOhM,KAAKJ,MAAMoM,MAClBC,KAAMjM,KAAKJ,MAAMsM,MACjBxJ,UAAU,cACV0B,MAAO,CAAC+H,QAAS,SACjBC,WAAY,CAAC3L,OAAQ,MAAO4L,gBAAiB,QAASC,aAAc,SACpEC,UAAW,CAAC9L,OAAQ,MAAO4L,gBAAiB,QAASC,aAAc,SACnEE,YAAa,CAACC,UAAW,OAAQC,YAAa,SAC9CC,SAAU,CAACrD,OAAQ,OAAQoD,YAAa,SACxCE,SAAU,SAACC,GAAWhN,EAAKD,MAAMgN,SAASC,GAAQhI,GAAUC,wBAnB5C4G,KCIlBoB,eAEJ,SAAAA,EAAYlN,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8M,IACjBjN,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAgN,GAAAzM,KAAAL,KAAMJ,KACD8C,WAAa,IAAMoK,EAAKpK,UAE7B7C,EAAKS,MAAMyM,QAAU,EACrBlN,EAAKS,MAAM0M,KAAO,EALDnN,oEAQd6B,GAEH,IAAIuL,EAASvL,EAAGlB,MAAMR,KAAKM,MAAMyM,QAC9BG,EAAMxL,EAAGjB,OAAOT,KAAKM,MAAM0M,KAC1BG,EAAOnN,KAAK2H,KAEjBjG,EAAG0L,WAAW,GACVD,GAAMzL,EAAG2L,OAAO,KACpB,IAAI,IAAIlD,EAAI,EAAGA,EAAInK,KAAKM,MAAMyM,QAAS5C,IAAK,CACzCzI,EAAG4G,OACD5G,EAAG2E,UAAU4G,EAAS9C,EAAG,GACrBgD,GAAMzL,EAAG4L,KAAK,EAAG,EAAG,EAAG5L,EAAGjB,QAChC,IAAI,IAAI8M,EAAI,EAAGA,EAAIvN,KAAKM,MAAM0M,KAAMO,IAChC7L,EAAG4G,OACD5G,EAAG2E,UAAU,EAAGkH,EAAIL,GAChBC,GAAMzL,EAAG4L,KAAK,EAAG,EAAG5L,EAAGlB,MAAO,GAC/B2M,IACDzL,EAAG8L,WACH9L,EAAG4G,OACD5G,EAAG2E,UAAU4G,EAAS,EAAGC,EAAM,GAC/BxL,EAAG+L,MAAMP,EAAM,EAAGD,EAAS,GAC3BE,EAAKtL,KAAKH,GACZA,EAAG0J,OAIP1J,EAAG0J,MAEP1J,EAAG0J,2CAMK,IAAAxE,EAAA5G,KACV,OACEuC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8E,SAAA,KACE/E,EAAAC,EAAAC,cAACiL,GAAD,CACA7B,IAAK,EACLC,IAAK,GACLC,aAAc/L,KAAKM,MAAMyM,QACzBf,MAAO,CAAC2B,EAAG,EAAGC,GAAI,IAClB3B,KAAM,EACNW,SAAU,SAACC,GAAWjG,EAAKpF,SAAS,CAACuL,QAASF,EAAOG,KAAMH,eArDhDpB,IA6DnBqB,GAAKpK,UAAY,OAEFoK,UCpCAe,8BA9BX,SAAAA,EAAYjO,GAAQ,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAA6N,GAAA/N,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA+N,GAAAxN,KAAAL,KACVJ,0EAGD,IAAAC,EAAAG,KACD8N,EAAkB,IAAIC,MAAM/N,KAAKJ,MAAMoO,OAC3CF,EAAgBG,KAAK,CAACxN,OAAQ,MAAO4L,gBAAiB,QAASC,aAAc,UAC7E,IAAI4B,EAAmB,IAAIH,MAAM/N,KAAKJ,MAAMoO,OAE5C,OADAE,EAAiBD,KAAK,CAACxB,UAAW,OAAQC,YAAa,UAEvDnK,EAAAC,EAAAC,cAACmJ,GAAA,EAAD,CACAC,IAAK7L,KAAKJ,MAAMiM,IAChBC,IAAK9L,KAAKJ,MAAMkM,IAChBC,aAAc/L,KAAKJ,MAAMmM,aACzBC,MAAOhM,KAAKJ,MAAMoM,MAClBC,KAAMjM,KAAKJ,MAAMsM,MACjB8B,MAAOhO,KAAKJ,MAAMoO,MAClBG,SAAUnO,KAAKJ,MAAMuO,SACrBzL,UAAU,cACV0B,MAAO,CAAC+H,QAAS,SACjBC,WAAY0B,EACZvB,UAAW,CAAC9L,OAAQ,MAAO4L,gBAAiB,QAASC,aAAc,SACnEE,YAAa0B,EACbvB,SAAU,CAACrD,OAAQ,OAAQoD,YAAa,SACxCE,SAAU,SAACC,GAAWhN,EAAKD,MAAMgN,SAASC,GAAQhI,GAAUC,wBAzB7C4G,0BCGjB0C,eAEJ,SAAAA,EAAYxO,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoO,IACjBvO,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAsO,GAAA/N,KAAAL,KAAMJ,KACD8C,WAAa,IAAM0L,EAAO1L,UAC/B7C,EAAKwO,MAAQ,GACbxO,EAAKyO,eAAiBzO,EAAKS,MAAMmF,SAASxE,OAC1CpB,EAAK0O,aAAerK,SAASsK,KAAKC,SAAY5O,EAAKyO,gBACnDzO,EAAK6O,UAAY,GANA7O,2EASP4F,GACV3F,OAAAmK,EAAA,EAAAnK,QAAAM,EAAA,EAAAN,CAAAsO,EAAAlE,WAAA,cAAAlK,MAAAK,KAAAL,KAAkByF,GAClBzF,KAAKuO,aAAerK,SAASsK,KAAKC,SAAYzO,KAAKsO,6CAGhD5M,GACH,IAAIT,EAASjB,KAAKM,MAAMmF,SAASxE,OACjC,GAAc,IAAXA,EAAH,CACA,IAAI0N,EAAU3O,KAAKgG,SAAShG,KAAKuO,cACjC,GAAc,IAAXtN,EAAH,CAIA,IAEIkJ,EAFAkE,EAAQ,EACRO,EAAO1K,SAA0B,IAAjBsK,KAAKC,UAGzB,IAAItE,EAAI,EAAGA,EAAIlJ,GAAU2N,GAAQP,IAASlE,EACxCkE,EAAQrO,KAAKqO,MAAMrO,KAAKuO,cAAcpE,GAGxCnK,KAAKgG,SAASmE,EAAI,GAAGtI,KAAKH,GAC1B1B,KAAKuO,aAAepE,EAAI,OAZtBwE,EAAQ9M,KAAKH,wCAoBf,IALU,IAGNmN,EAHMjI,EAAA5G,KACJiB,EAASjB,KAAKM,MAAMmF,SAASxE,OAC/B6N,EAAgB,GAGZ3E,EAAI,EAAGA,GAAKlJ,EAAS,IAAKkJ,EAChC2E,EAAcxG,KAAM,IAAMrH,EAAUkJ,GAGtC,GAAGlJ,EAAS,EAAI,EAAG,CACjB,IAAI8N,EAAa,CACflD,IAAK,EACLC,IAAK,IACLC,aAAc+C,EACd9C,MAAO,CAACgD,EAAE,EAAGC,IAAI,GACjBhD,KAAM,GACN+B,MAAO/M,EAAS,EAChBkN,SAAU,GAGZU,EAAU7O,KAAKM,MAAMmF,SAASyB,IAAI,SAACY,EAAOX,GAOtC,OANGP,EAAK0H,iBAAmBrN,IACzB2F,EAAKyH,MAAMlH,GAAS2H,EACpBlI,EAAK8H,UAAUvH,GAAS+H,KAAQC,YAElCJ,EAAW3H,IAAMR,EAAK8H,UAAUvH,GAChC4H,EAAWnC,SAAW,SAACC,GAAWjG,EAAKyH,MAAMlH,GAAS0F,EAAOhI,GAAUC,eAChEvC,EAAAC,EAAAC,cAAC2M,GAAaL,KAQ3B,OAFA/O,KAAKsO,eAAiBrN,EAGpBsB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8E,SAAA,KACGuH,UAzEY7E,GAgFrBoE,GAAO1L,UAAY,SAEJ0L,UCrFTiB,uBAEJ,SAAAA,EAAYzP,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqP,IACjBxP,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAuP,GAAAhP,KAAAL,KAAMJ,KACD8C,WAAa,IAAM2M,EAAU3M,UAFjB7C,oEAKd6B,WAPiBgG,IAYxB2H,GAAU3M,UAAY,YAEP2M,UCfTC,uBAEJ,SAAAA,EAAY1P,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsP,IACjBzP,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAwP,GAAAjP,KAAAL,KAAMJ,KACD8C,WAAa,IAAM4M,EAAU5M,UAClC7C,EAAK0P,MAAQ,GACb1P,EAAK2P,MAAQ,GAJI3P,oEAOd6B,GACHA,EAAG4G,OACD5G,EAAG2E,UAAUrG,KAAKuP,MAAOvP,KAAKwP,OAC3BxP,KAAK2H,MACN3H,KAAK2H,KAAK9F,KAAKH,GAEnBA,EAAG0J,aAfiBiE,KAmBxBC,GAAU5M,UAAY,YAEP4M,UCrBTG,uBAEJ,SAAAA,EAAY7P,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyP,IACjB5P,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA2P,GAAApP,KAAAL,KAAMJ,KACD8C,WAAa,IAAM+M,EAAO/M,UAC/B7C,EAAKyG,OAAS,GAHGzG,oEAMd6B,GACHA,EAAG4G,OACD5G,EAAG4E,OAAO5E,EAAGgO,QAAQ1P,KAAKsG,cACTrG,IAAdD,KAAK2H,MACN3H,KAAK2H,KAAK9F,KAAKH,GAEnBA,EAAG0J,aAdciE,KAkBrBI,GAAO/M,UAAY,SAEJ+M,UCnBTE,uBAEJ,SAAAA,EAAY/P,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2P,IACjB9P,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA6P,GAAAtP,KAAAL,KAAMJ,KACD8C,WAAa,IAAMiN,EAAMjN,UAC9B7C,EAAK+P,EAAI,EACT/P,EAAKgQ,EAAI,EACThQ,EAAKiQ,EAAI,EACTjQ,EAAK2C,EAAI,IACT3C,EAAKgH,aAAe,CAAC,YAAa,SAPjBhH,oEAUd6B,GACH,IAAIqO,EAAIrO,EAAGsO,MAAMhQ,KAAK4P,EAAG5P,KAAK6P,EAAG7P,KAAK8P,EAAG9P,KAAKwC,GAC9Cd,EAAGuM,KAAK8B,GACL/P,KAAK2H,MACN3H,KAAK2H,KAAK9F,KAAKH,UAhBD2N,KAsBpBM,GAAMjN,UAAY,QAEHiN,UCzBTM,eAEJ,SAAAA,EAAYrQ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiQ,IACjBpQ,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAmQ,GAAA5P,KAAAL,KAAMJ,KACDgQ,EAAI,IACT/P,EAAKgQ,EAAI,EACThQ,EAAKiQ,EAAI,EACTjQ,EAAK2C,EAAI,IALQ3C,6BAFH8P,IAWlBM,GAAIvN,UAAY,MAEDuN,UCbTC,eAEJ,SAAAA,EAAYtQ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkQ,IACjBrQ,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAoQ,GAAA7P,KAAAL,KAAMJ,KACDgQ,EAAI,EACT/P,EAAKgQ,EAAI,EACThQ,EAAKiQ,EAAI,IACTjQ,EAAK2C,EAAI,IALQ3C,6BAFF8P,IAYnBO,GAAKxN,UAAY,OAEFwN,UCdTC,eAEJ,SAAAA,EAAYvQ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmQ,IACjBtQ,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAAqQ,GAAA9P,KAAAL,KAAMJ,KACDgQ,EAAI,EACT/P,EAAKgQ,EAAI,IACThQ,EAAKiQ,EAAI,EACTjQ,EAAK2C,EAAI,IALQ3C,6BAFD8P,IAYpBQ,GAAMzN,UAAY,QAEHyN,UCJR,SAASC,GAAiB5K,GAC/B,OAAOA,GACL,IAAK,SACH,OAAO0F,GACT,IAAK,YACH,OAAOG,GACT,IAAK,WACH,OAAOE,GACT,IAAK,UACH,OAAOC,GACT,IAAK,YACH,OAAOC,GACT,IAAK,OACH,OAAOqB,GACT,IAAK,SACH,OAAOsB,GACT,IAAK,YACH,OAAOiB,GACT,IAAK,QACH,OAAOM,GACT,IAAK,MACH,OAAOM,GACT,IAAK,OACH,OAAOC,GACT,IAAK,QACH,OAAOC,GACT,IAAK,YACH,OAAOb,GACT,IAAK,SACH,OAAOG,GACT,QACE,OAAO,MClCbtO,OAAOuF,kBAAoB,SAASlB,EAAM6K,GACxC,IAAIC,EAAKF,GAAiB5K,GAC1B6K,EAAO1F,SAAS2F,GACXD,aAAkBxL,IACrBA,GAAUC,eAId3D,OAAO6G,aAAe,SAASjC,EAAMc,GACnC,IAAI+I,GAAI,EACR,IAAI7J,EAAM,OAAO,EAEjB,GAAGc,aAAwBkH,MAAO,CAChC,IAAIhG,EACJ,GAAmB,kBAAThC,EAERgC,EAAM,IADGqI,GAAiBrK,SAG1BgC,EAAM,IAAIhC,EAGZ,IAAI,IAAIoE,EAAI,EAAGA,EAAItD,EAAa5F,QAAU2O,IAAKzF,EAAG,CAChD3F,QAAQC,IAAIoC,GACZ,IAAI0J,EAAoBH,GAAiBvJ,EAAasD,IAC7B,OAAtBoG,EAIHX,EAAIA,KAAO7H,aAAewI,GAHxB/L,QAAQgM,MAAM3J,EAAasD,GAAK,kCAOtC,OAAOyF,OAwDMa,eAhDb,SAAAA,EAAY7Q,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyQ,IAChB5Q,EAAAC,OAAAK,EAAA,EAAAL,CAAAE,KAAAF,OAAAM,EAAA,EAAAN,CAAA2Q,GAAApQ,KAAAL,KAAMJ,KALRU,MAAQ,CACNoQ,aAAc,WACdC,eAAgB,OAEA9Q,EAIlB+Q,cAAgB,SAASzM,GAIvBxE,EAAOmB,UAAUd,KAAKM,MAAMoQ,aAAc1Q,KAAKM,MAAMqQ,iBARrC9Q,wEAWT,IAAA+G,EAAA5G,KAEP,OACEuC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAChBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAf,aAEFH,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAACoO,GAAD,MAGAtO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mCAAmCyC,QAAS,SAACqB,GAAD,OAAWI,EAAKgK,cAAcpK,EAAM6J,UAC3F9N,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAKyL,OAEZvO,EAAAC,EAAAC,cAAA,SAAOC,UAAU,aAAaqD,KAAK,OAAO8G,MAAO7M,KAAKM,MAAMoQ,aAAc9D,SAAU,SAACpG,GAAWI,EAAKpF,SAAS,CAACkP,aAAclK,EAAM6J,OAAOxD,WAC1ItK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,SAAOE,GAAG,YAAYoD,KAAK,QAAQ8G,MAAM,MAAMrH,KAAK,aAAauL,gBAAc,EAACnE,SAAU,SAACpG,GAAcA,EAAM6J,OAAOW,SAAUpK,EAAKpF,SAAS,CAACmP,eAAgBnK,EAAM6J,OAAOxD,WAC5KtK,EAAAC,EAAAC,cAAA,SAAOwO,QAAQ,YAAYvO,UAAU,uCAArC,QACAH,EAAAC,EAAAC,cAAA,SAAOE,GAAG,YAAYoD,KAAK,QAAQ8G,MAAM,MAAMrH,KAAK,aAAaoH,SAAU,SAACpG,GAAcA,EAAM6J,OAAOW,SAAUpK,EAAKpF,SAAS,CAACmP,eAAgBnK,EAAM6J,OAAOxD,WAC7JtK,EAAAC,EAAAC,cAAA,SAAOwO,QAAQ,YAAYvO,UAAU,uCAArC,UAGJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAKC,IAAK6L,QAGZ3O,EAAAC,EAAAC,cAAC0O,EAAD,gBA7CEvO,aCnCEwO,QACW,cAA7BjQ,OAAOkQ,SAASC,UAEe,UAA7BnQ,OAAOkQ,SAASC,UAEhBnQ,OAAOkQ,SAASC,SAASC,MACvB,oFCVNC,oBAAU,CAAEC,QAAS,IAAIC,OAEzBC,IAASC,OAAOrP,EAAAC,EAAAC,cAACoP,GAAD,MAASC,SAASC,eAAe,SDuH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.19278d77.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/save_alt.3ccde972.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.74f0e940.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.4afab8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.79443cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/grid_on.8ace643b.svg\";","module.exports = __webpack_public_path__ + \"static/media/square.5b5b5ce7.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangle.3963bd74.svg\";","module.exports = __webpack_public_path__ + \"static/media/ellipse.41ebe5ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.aaf3d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.5d1fc53d.svg\";","import React, { Component } from 'react';\r\nimport './Canvas.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nvar p5 = require('p5');\r\nrequire('p5.js-svg')(p5);\r\n\r\nclass Canvas extends Component {\r\n\r\n  /*Singleton*/\r\n  static _instance;\r\n  static _P5;\r\n  static savePaper(filename, extension) {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.savePaper(filename, extension);\r\n    }\r\n  }\r\n\r\n\r\n  state = {\r\n    function: undefined,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    if(Canvas._instance != undefined) {\r\n      return Canvas._instance;\r\n    }\r\n    super(props);\r\n\r\n    Canvas._instance = this;\r\n  }\r\n\r\n  setfilename(filename, ext = undefined) {\r\n    this.filename = filename;\r\n    if(ext !== undefined) this.extension = ext;\r\n  }\r\n\r\n  CalcCanvasSize() {\r\n    let canvasWidth = window.innerWidth*0.5-60;\r\n    let canvasHeight = window.innerHeight-180;\r\n    let CanvasSize = (canvasWidth < canvasHeight) ? canvasWidth : canvasHeight;\r\n    this.setState({width: CanvasSize, height: CanvasSize});\r\n  }\r\n\r\n  initP5() {\r\n    let self = this;\r\n    let s = (sk) => {\r\n      sk.setup = self.setup.bind(self, sk);\r\n      sk.draw = self.draw.bind(self, sk);\r\n      sk.windowResized = self.windowResized.bind(self, sk);\r\n      sk.savePaper = self.savePaper.bind(self, sk);\r\n\r\n    }\r\n\r\n    Canvas._P5 = new p5(s, 'renderer');\r\n  }\r\n\r\n  sendDraw(f) {\r\n    this.setState({\r\n      function: f\r\n    });\r\n  }\r\n\r\n  resetDraw() {\r\n    this.setState({\r\n      function: undefined\r\n    });\r\n  }\r\n\r\n  windowResized(sk) {\r\n    this.CalcCanvasSize();\r\n    sk.resizeCanvas(this.state.width, this.state.height);\r\n  }\r\n\r\n  savePaper(sk, filename, extension) {\r\n    if(filename !== undefined || extension !== undefined) {\r\n      sk.saveCanvas(filename, extension);\r\n    }\r\n  }\r\n\r\n  setup(sk) {\r\n    const {width, height} = this.state;\r\n    sk.createCanvas(width, height);\r\n    sk.noLoop();\r\n  }\r\n\r\n  draw(sk) {\r\n    let f = this.state.function;\r\n    if(f !== undefined) {\r\n      f(sk);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.CalcCanvasSize();\r\n    this.initP5();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    Canvas._P5.draw();\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvasContainer\">\r\n        <div id=\"renderer\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCanvas._instance = undefined;\r\nCanvas._P5 = undefined;\r\n\r\n/*PropTypes*/\r\nCanvas.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  cells: PropTypes.number\r\n}\r\n\r\nexport default Canvas;\r\n","export const ItemTypes = {\r\n  BOX: 'box'\r\n};\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport {DragSource} from 'react-dnd';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport cancel from '../../Icons/cancel.svg';\r\n\r\n//Functions for dragging the box\r\nconst boxSource = {\r\n  beginDrag(props, monitor, component) {\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n    const clientOffset = monitor.getClientOffset();\r\n    let item = clientOffset;\r\n    return item;\r\n  },\r\n  endDrag(props, monitor, component) {\r\n    const item = monitor.getItem();\r\n    const result = monitor.getDropResult();\r\n    if(result !== null && result.moved) {\r\n      component.setPosition(item);\r\n    }\r\n    return {};\r\n  }\r\n};\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\n\r\nclass DragBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  setPosition(d) {\r\n    if(!d) return;\r\n    const coord = {\r\n      x: !Number.isNaN(parseInt(this.props.el.state.style.left)) ? parseInt(this.props.el.state.style.left) : 0,\r\n      y: !Number.isNaN(parseInt(this.props.el.state.style.top)) ? parseInt(this.props.el.state.style.top) : 0\r\n    };\r\n\r\n    console.log(coord);\r\n    const style = {\r\n      \"position\": \"absolute\",\r\n      \"top\": d.y + coord.y + \"px\",\r\n      \"left\": d.x + coord.x + \"px\"\r\n    };\r\n    this.props.el.setStyle(style);\r\n  }\r\n\r\n  onClose() {\r\n      if(this.props.onClose !== undefined) {\r\n        this.props.onClose();\r\n      }\r\n      Workspace.forceUpdate();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isDragging, connectDragSource, connectDragPreview } = this.props;\r\n\r\n\r\n\r\n    return connectDragPreview(\r\n      <div className=\"Box__wrapper\">\r\n        <span className=\"Box__titleClose\" onClick={this.onClose.bind(this)}>\r\n            <SVG src={cancel}/>\r\n        </span>\r\n        {connectDragSource(<span className=\"Box__title\">\r\n          {this.props.icon && <SVG className=\"Box__titleIcon\" src={this.props.icon}/>}\r\n          <span className=\"Box__titleText\">{this.props.name}</span>\r\n        </span>)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragSource(ItemTypes.BOX, boxSource, collect)(DragBox);\r\n","import React, { Component } from 'react';\r\nimport './ContextMenuBox.css';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport arrow_right from '../../Icons/arrow_right.svg';\r\n\r\nimport grid_on from '../../Icons/grid_on.svg';\r\nimport square from '../../Icons/square.svg';\r\nimport triangle from '../../Icons/triangle.svg';\r\nimport ellipse from '../../Icons/ellipse.svg';\r\n\r\nimport translate from '../../Icons/translate.svg';\r\nimport rotate from '../../Icons/rotate.svg';\r\n\r\nfunction test() {\r\n  console.log(\"test\");\r\n}\r\n\r\nconst menu = [\r\n  {\r\n    type: 'Placement',\r\n    elements: [\r\n      {type: 'Grid',\r\n      icon: grid_on}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Elements',\r\n    elements: [\r\n      {type: 'Rectangle',\r\n      icon: square},\r\n      {type: 'Triangle',\r\n      icon: triangle},\r\n      {type: 'Ellipse',\r\n      icon: ellipse}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Color',\r\n    elements: [\r\n      {type: 'Red'},\r\n      {type: 'Blue'},\r\n      {type: 'Green'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Markov'\r\n  },\r\n  {\r\n    type: 'Transform',\r\n    elements: [\r\n      {type: 'Translate',\r\n      icon: translate},\r\n      {type: 'Rotate',\r\n      icon: rotate}\r\n    ]\r\n  }\r\n];\r\n\r\nclass ContextMenuBox extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  handleClick(event, data) {\r\n    if(data.type !== undefined) {\r\n      console.log(data.el);\r\n      window.addClassToElement(data.type, data.el);\r\n      data.el.addIcon(data.icon);\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    if(this.props.el.unauthorized.indexOf(\"*\") !== -1) {\r\n      return (\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n      );\r\n    }\r\n\r\n    let menuItems = menu.map(\r\n      (item, index) => {\r\n        if(this.props.el.unauthorized.indexOf(item.type) === -1) {\r\n          if (!item.elements) {\r\n            return (<MenuItem onClick={this.handleClick} data={{ type: item.type, el: this.props.el, icon: item.icon }} key={index}>\r\n              {item.icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={item.icon}/></span>}\r\n              <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n            </MenuItem>);\r\n          } else {\r\n            return (<SubMenu key={index} title={\r\n              <>\r\n                <span  className=\"react-contextmenu-itemLabel\">\r\n                {item.icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={item.icon}/></span>}\r\n                <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n                </span>\r\n                <span className=\"react-contextmenu-itemIcon\"><SVG src={arrow_right}/></span>\r\n              </>\r\n            }>\r\n                {item.elements.map(\r\n                  (subItem, index) =>\r\n                    <MenuItem onClick={this.handleClick} data={{ type: subItem.type, el: this.props.el, icon: subItem.icon }} key={index}>\r\n                      {subItem.icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={subItem.icon}/></span>}\r\n                      <span className=\"react-contextmenu-itemText\">{subItem.type}</span>\r\n                    </MenuItem>\r\n\r\n                )}\r\n            </SubMenu>);\r\n          }\r\n        }\r\n      }\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n        <ContextMenu id={this.props.id}>\r\n            {menuItems}\r\n        </ContextMenu>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContextMenuBox;\r\n","import React, { Component } from 'react';\r\nimport './Box.css';\r\nimport p5 from 'p5';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n/*Pencil*/\r\nclass Box extends Component {\r\n\r\n  static get id() {\r\n    return Box._id++;\r\n  }\r\n\r\n  state = {\r\n    children: [],\r\n    style: {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Box.className;\r\n    this.name = Box.className;\r\n    this.next = undefined;\r\n    this.nextType = undefined;\r\n    this.unauthorized = [];\r\n    this.icon = [];\r\n  }\r\n\r\n  addChild(child) {\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(window.isAuthorized(child, this.unauthorized) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [{type:child, id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.setState({\r\n      children: children\r\n    })\r\n  }\r\n\r\n  removeFromParent() {\r\n    let children = this.props.parent.state.children;\r\n    children = children.filter(el => el.id !== this.props.id);\r\n    this.props.parent.setChildren(children);\r\n  }\r\n\r\n  addNext(elmnt) {\r\n    if(elmnt !== undefined) {\r\n      if(elmnt instanceof Box) {\r\n        this.next = elmnt;\r\n        this.nextType = elmnt.constructor.name;\r\n      }\r\n    }\r\n  }\r\n\r\n  addIcon(icon) {\r\n    this.icon.push(icon);\r\n  }\r\n\r\n  setStyle(style) {\r\n    this.setState({\r\n      style: style\r\n    });\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n\r\n  getChildren() {\r\n    this.next = undefined;\r\n    let children = [];\r\n\r\n    if(this.state.children.length > 0) {\r\n      let child = this.state.children[0];\r\n      children.push(<child.type key={child.id} parent={this} id={child.id} ref={el => {this.next = el}} icon={this.icon[0]}/>);\r\n    }\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuTrigger>\r\n          <DragBox icon={this.props.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} el={this}>\r\n            <span className=\"Box__content\">\r\n              {this.renderBox()}\r\n\r\n              {this.unauthorized.indexOf(\"*\") === -1 && <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.unauthorized} el={this}>\r\n                <div className=\"Box__container\">\r\n                  {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                  {this.getChildren()}\r\n                </div>\r\n              </ContextMenuBox>}\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuTrigger>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBox._id = 0; //or use shortid ?\r\nBox.className = \"Box\";\r\n\r\nexport default Box;\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport { DropTarget, DragSource } from 'react-dnd';\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDropTarget: connect.dropTarget(),\r\n    // You can ask the monitor about the current drag state:\r\n    isOver: monitor.isOver(),\r\n    isOverCurrent: monitor.isOver({ shallow: true }),\r\n    canDrop: monitor.canDrop(),\r\n    itemType: monitor.getItemType()\r\n  };\r\n}\r\n\r\n//Functions for dropping the box\r\nconst boxTarget = {\r\n  canDrop(props, monitor) {\r\n    // You can disallow drop based on props or item\r\n    const item = monitor.getItem();\r\n    //return canMakeChessMove(item.fromPosition, props.position);\r\n    return true;\r\n  },\r\n\r\n  hover(props, monitor, component) {\r\n    // This is fired very often and lets you perform side effects\r\n    // in response to the hover. You can't handle enter and leave\r\n    // hereâ€”if you need them, put monitor.isOver() into collect() so you\r\n    // can just use componentDidUpdate() to handle enter/leave.\r\n\r\n    return;\r\n\r\n    // You can access the coordinates if you need them\r\n\r\n    // You can check whether we're over a nested drop target\r\n    const isJustOverThisOne = monitor.isOver({ shallow: true });\r\n\r\n    // You will receive hover() even for items for which canDrop() is false\r\n    const canDrop = monitor.canDrop();\r\n  },\r\n\r\n  drop(props, monitor, component) {\r\n    if (monitor.didDrop()) {\r\n      // If you want, you can check whether some nested\r\n      // target already handled drop\r\n      return;\r\n    }\r\n\r\n    // Obtain the dragged item\r\n    let item = monitor.getItem();\r\n\r\n    // You can do something with it\r\n    const clientOffset = monitor.getClientOffset();\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    if(clientOffset.x > componentRect.right\r\n      || clientOffset.y > componentRect.bottom\r\n      || clientOffset.x < componentRect.left\r\n      || clientOffset.y < componentRect.top) {\r\n      return;\r\n    }\r\n\r\n    // You give to the currently moving item the new positions\r\n    item.x = clientOffset.x - item.x;\r\n    item.y = clientOffset.y - item.y;\r\n\r\n\r\n    // You can also do nothing and return a drop result,\r\n    // which will be available as monitor.getDropResult()\r\n    // in the drag source's endDrag() method\r\n    return { moved: true };\r\n  }\r\n};\r\n\r\n\r\nclass DropBox extends Component {\r\n\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isOver, canDrop, connectDropTarget } = this.props;\r\n    return connectDropTarget(\r\n      <div className={this.constructor.className}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropBox.className = \"DropBox\";\r\n\r\nexport default DropTarget(ItemTypes.BOX, boxTarget, collect)(DropBox);\r\n","import React, { Component } from 'react';\r\nimport './BoxGroup.css';\r\nimport Box from '../Box/Box';\r\nimport {shallow, instance} from 'enzyme';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n\r\n/*Pencil*/\r\nclass BoxGroup extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = BoxGroup.className;\r\n    this.elements = [];\r\n  }\r\n\r\n  addChild(child) {\r\n\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(this.unauthorized.indexOf(child.name) === -1 && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push({type: child, id: Box.id});\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.elements = [];\r\n    super.setChildren(children);\r\n  }\r\n\r\n  draw(sk) {\r\n    for(let i = 0; i < this.elements.length; ++i) {\r\n       let element = this.elements[i];\r\n       element.draw(sk);\r\n    }\r\n  }\r\n\r\n  initElements(instance = Box, callback = function() {}) {\r\n\r\n    let elements = [];\r\n\r\n    const children = React.Children.map(this.props.children,\r\n       (child, index) => {\r\n              elements.push(child);\r\n              //box.parent = callback;\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.initElements();\r\n  }\r\n\r\n  getChildren() {\r\n    this.elements = [];\r\n    let children = this.state.children.map((child, index) =>\r\n      <child.type key={child.id} id={child.id} parent={this} ref={el => this.elements[index] = el} icon={this.icon[index]}/>\r\n    );\r\n\r\n\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n          <ContextMenuTrigger>\r\n            <DragBox icon={this.props.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} className={this.className} el={this}>\r\n              <span className=\"Box__content\">\r\n                {this.renderBox()}\r\n                <DropBox>\r\n                  {this.unauthorized.indexOf(\"*\") === -1 && <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.unauthorized} el={this}>\r\n                    <div className=\"Box__container\">\r\n                      {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                      {this.getChildren()}\r\n                    </div>\r\n                  </ContextMenuBox>}\r\n                </DropBox>\r\n              </span>\r\n            </DragBox>\r\n          </ContextMenuTrigger>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBoxGroup.className = \"BoxGroup\";\r\n\r\nexport default BoxGroup;\r\n","import React, { Component } from 'react';\r\nimport './Workspace.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport Box from '../Box/Box';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport {shallow, instance} from 'enzyme';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport ItemTypes from '../../Constants.js';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\n\r\nclass Workspace extends BoxGroup {\r\n\r\n  static _instance;\r\n  static setElements(elmnts) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.setElements(elmnts);\r\n    }\r\n  }\r\n\r\n  static addElement(elmnt) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addElement(elmnt);\r\n    }\r\n  }\r\n\r\n  static addChild(box) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addChild(box);\r\n    }\r\n  }\r\n\r\n  static forceUpdate() {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.forceUpdate();\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    if(Workspace._instance !== undefined) {\r\n      return Workspace._instance;\r\n    }\r\n    super(props);\r\n    this.className = this.constructor.className;\r\n    this.state.children = [];\r\n    this.elements = []; //no this.state.elements\r\n    this.unauthorized = [\"Markov\"];\r\n    Workspace._instance = this;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    let firstBox = this.elements[0];\r\n    if(firstBox) {\r\n      canvas.sendDraw(firstBox.draw.bind(firstBox));\r\n    } else {\r\n      Canvas._P5.clear();\r\n    }\r\n  }\r\n\r\n  //dead code\r\n  /*componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    let next = undefined;\r\n    let children = this.state.elements.reverse();\r\n    let instance = undefined;\r\n\r\n    if(children.length > 0) {\r\n      for(let i = 0; i < children.length; ++i) {\r\n        let child = children[i];\r\n        if(child === undefined) continue;\r\n        if(child instanceof Box) {\r\n          child.addNext(next);\r\n          next = child;\r\n        }\r\n        else if(shallow(child).instance() instanceof Box) {\r\n          instance = shallow(child).instance();\r\n          instance.addNext(next);\r\n          next = instance;\r\n        }\r\n      }\r\n\r\n      if(instance !== undefined) {\r\n        canvas.sendDraw(instance.draw.bind(instance));\r\n      } else {\r\n        canvas.sendDraw(children[children.length - 1].draw.bind(children[children.length - 1]));\r\n      }\r\n    }\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className}>\r\n        <ContextMenuBox id={this.constructor.className} unauthorized={this.unauthorized} el={this}>\r\n          <DropBox>\r\n            {!this.state.children.length && <span className=\"Workspace__placeholder\">Right click here</span>}\r\n            {this.getChildren()}\r\n          </DropBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nWorkspace.className = \"Workspace\";\r\nWorkspace._instance = undefined;\r\n\r\nexport default DragDropContext(HTML5Backend)(Workspace);\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Figure.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Figure extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Figure.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 0;\r\n    this.height = 0;\r\n    this.unauthorized = [\"*\"];\r\n  }\r\n\r\n  drawFigure(sk) {\r\n\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.translate(-this.width / 2, -this.height / 2);\r\n      this.drawFigure(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nFigure.className = \"Figure\";\r\n\r\nexport default Figure;\r\n","import React, { Component } from 'react';\r\nimport './Rectangle.css';\r\nimport Figure from '../Figure';\r\n\r\n/*Pencil*/\r\nclass Rectangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rectangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.rect(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nRectangle.className = \"Rectangle\";\r\n\r\nexport default Rectangle;\r\n","import React, { Component } from 'react';\r\nimport './Triangle.css';\r\nimport Figure from '../Figure';\r\n\r\n/*Pencil*/\r\nclass Triangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Triangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.triangle(this.x, this.y + this.height, this.x + this.width, this.y + this.height, (this.x + this.width) / 2, this.y);\r\n  }\r\n}\r\n\r\nTriangle.className = \"Triangle\";\r\n\r\nexport default Triangle;\r\n","import React, { Component } from 'react';\r\nimport './Ellipse.css';\r\nimport Figure from '../Figure';\r\n\r\n/*Pencil*/\r\nclass Ellipse extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Ellipse.className;\r\n    this.width = 1;\r\n    this.height = 1;\r\n    this.x = this.width / 2;\r\n    this.y = this.height / 2;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.ellipse(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nEllipse.className = \"Ellipse\";\r\n\r\nexport default Ellipse;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Placement.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Placement extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Placement.className;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nPlacement.className = \"Placement\";\r\n\r\nexport default Placement;\r\n","import React, { Component } from 'react';\r\nimport './Input.css';\r\n\r\nclass Input extends Component {\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './SliderBox.css';\r\n\r\nclass SliderBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Slider\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={{marginTop: '-3px', borderColor: 'black' }}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value); Workspace.forceUpdate();}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SliderBox;\r\n","import React, { Component } from 'react';\r\nimport Placement from '../Placement';\r\nimport './Grid.css';\r\nimport 'rc-slider/assets/index.css';\r\nimport Canvas from '../../Canvas/Canvas';\r\nimport DragBox from '../../DragBox/DragBox';\r\nimport ContextMenuBox from '../../ContextMenuBox/ContextMenuBox';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\n\r\n/*Pencil*/\r\nclass Grid extends Placement {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Grid.className;\r\n    //const {columns, rows} = this.props;\r\n    this.state.columns = 8;\r\n    this.state.rows = 8;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n    var column = sk.width/this.state.columns;\r\n  \tvar row = sk.height/this.state.rows;\r\n    var elem = this.next;\r\n\r\n  \tsk.background(0);\r\n  \tif(!elem) sk.stroke(255);\r\n  \tfor(var i = 0; i < this.state.columns; i++) {\r\n      sk.push();\r\n        sk.translate(column * i, 0);\r\n        if(!elem) sk.line(0, 0, 0, sk.height);\r\n    \t\tfor(var j = 0; j < this.state.rows; j++) {\r\n          sk.push();\r\n            sk.translate(0, j * row);\r\n            if(!elem) sk.line(0, 0, sk.width, 0);\r\n            if(elem) {\r\n              sk.noStroke();\r\n              sk.push();\r\n                sk.translate(column / 2, row / 2);\r\n                sk.scale(row / 2, column / 2);\r\n                elem.draw(sk);\r\n              sk.pop();\r\n              /*elem.x = i * column + x;\r\n              elem.y = j * row + y;*/\r\n            }\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n\r\n  }\r\n\r\n\r\n  renderBox() {\r\n    return(\r\n      <>\r\n        <SliderBox\r\n        min={1}\r\n        max={20}\r\n        defaultValue={this.state.columns}\r\n        marks={{1: 1, 20: 20}}\r\n        step={1}\r\n        onChange={(value) => {this.setState({columns: value, rows: value});}}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nGrid.className = \"Grid\";\r\n\r\nexport default Grid;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './RangeBox.css';\r\n\r\nclass RangeBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        let trackStyleArray = new Array(this.props.count);\r\n        trackStyleArray.fill({height: '8px', backgroundColor: 'black', borderRadius: 'unset' });\r\n        let handleStyleArray = new Array(this.props.count);\r\n        handleStyleArray.fill({marginTop: '-3px', borderColor: 'black' });\r\n        return(\r\n        <Range\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        count={this.props.count}\r\n        pushable={this.props.pushable}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={trackStyleArray}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={handleStyleArray}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value); Workspace.forceUpdate();}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default RangeBox;\r\n","import React, { Component } from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport 'rc-slider/assets/index.css';\r\nimport './Markov.css';\r\nimport Workspace from '../Workspace/Workspace';\r\nimport RangeBox from '../Input/RangeBox/RangeBox';\r\nimport shortid from 'shortid';\r\n\r\n/*Pencil*/\r\nclass Markov extends BoxGroup {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Markov.className;\r\n    this.proba = [];\r\n    this.elementsLength = this.state.children.length;\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n    this.idElement = [];\r\n  }\r\n\r\n  setChildren(children) {\r\n    super.setChildren(children);\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n  }\r\n\r\n  draw(sk) {\r\n    let length = this.state.children.length;\r\n    if(length === 0) return;\r\n    let element = this.elements[this.currentState];\r\n    if(length === 1) {\r\n      element.draw(sk);\r\n      return;\r\n    }\r\n    let proba = 0;\r\n    let rand = parseInt(Math.random() * (100));\r\n    let i;\r\n\r\n    for(i = 0; i < length && rand >= proba; ++i) {\r\n      proba = this.proba[this.currentState][i];\r\n    }\r\n\r\n    this.elements[i - 1].draw(sk);\r\n    this.currentState = i - 1;\r\n  }\r\n\r\n  renderBox() {\r\n    const length = this.state.children.length;\r\n    let defaultValues = [];\r\n    let sliders;\r\n\r\n    for(let i = 1; i <= length - 1; ++i) {\r\n      defaultValues.push((100 / length) * i);\r\n    }\r\n\r\n    if(length - 1 > 0) {\r\n      let propsRange = {\r\n        min: 0,\r\n        max: 100,\r\n        defaultValue: defaultValues,\r\n        marks: {0:0, 100:1},\r\n        step: 10,\r\n        count: length - 1,\r\n        pushable: 0\r\n      };\r\n\r\n      sliders = this.state.children.map((child, index) => {\r\n          if(this.elementsLength !== length) {\r\n            this.proba[index] = defaultValues;\r\n            this.idElement[index] = shortid.generate();\r\n          }\r\n          propsRange.key = this.idElement[index];\r\n          propsRange.onChange = (value) => {this.proba[index] = value; Workspace.forceUpdate();}\r\n          return <RangeBox {...propsRange}/>;\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.elementsLength = length;\r\n\r\n    return(\r\n      <>\r\n        {sliders}\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nMarkov.className = \"Markov\";\r\n\r\nexport default Markov;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Transform.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Transform extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Transform.className;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nTransform.className = \"Transform\";\r\n\r\nexport default Transform;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Translate.css';\r\n\r\n/*Pencil*/\r\nclass Translate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Translate.className;\r\n    this.destX = 10;\r\n    this.destY = 10;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.translate(this.destX, this.destY);\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nTranslate.className = \"Translate\";\r\n\r\nexport default Translate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Rotate.css';\r\n\r\n/*Pencil*/\r\nclass Rotate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rotate.className;\r\n    this.rotate = 20;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.rotate(sk.radians(this.rotate));\r\n      if(this.next !== undefined) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nRotate.className = \"Rotate\";\r\n\r\nexport default Rotate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Color.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Color extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Color.className;\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = 255;\r\n    this.unauthorized = [\"Placement\", \"Color\"];\r\n  }\r\n\r\n  draw(sk) {\r\n    let c = sk.color(this.r, this.g, this.b, this.a);\r\n    sk.fill(c);\r\n    if(this.next) {\r\n      this.next.draw(sk);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nColor.className = \"Color\";\r\n\r\nexport default Color;\r\n","import React, { Component } from 'react';\r\nimport Color from './Color';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Red extends Color {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.r = 255;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = 255;\r\n  }\r\n}\r\n\r\nRed.className = \"Red\";\r\n\r\nexport default Red;\r\n","import React, { Component } from 'react';\r\nimport Color from './Color';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Blue extends Color {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 255;\r\n    this.a = 255;\r\n  }\r\n\r\n}\r\n\r\nBlue.className = \"Blue\";\r\n\r\nexport default Blue;\r\n","import React, { Component } from 'react';\r\nimport Color from './Color';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Green extends Color {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.r = 0;\r\n    this.g = 255;\r\n    this.b = 0;\r\n    this.a = 255;\r\n  }\r\n\r\n}\r\n\r\nGreen.className = \"Green\";\r\n\r\nexport default Green;\r\n","import Figure from './Figures/Figure';\r\nimport Rectangle from './Figures/Rectangle/Rectangle';\r\nimport Triangle from './Figures/Triangle/Triangle';\r\nimport Ellipse from './Figures/Ellipse/Ellipse';\r\nimport Placement from './Placement/Placement';\r\nimport Grid from './Placement/Grid/Grid';\r\nimport Markov from './Markov/Markov';\r\nimport Transform from './Transforms/Transform';\r\nimport Translate from './Transforms/Translate/Translate';\r\nimport Rotate from './Transforms/Rotate/Rotate';\r\nimport Color from './Transforms/Colors/Color';\r\nimport Red from './Transforms/Colors/Red';\r\nimport Blue from './Transforms/Colors/Blue';\r\nimport Green from './Transforms/Colors/Green';\r\n\r\nexport function getClassFromName(name) {\r\n  switch(name) {\r\n    case('Figure'):\r\n      return Figure;\r\n    case('Rectangle'):\r\n      return Rectangle;\r\n    case('Triangle'):\r\n      return Triangle;\r\n    case('Ellipse'):\r\n      return Ellipse;\r\n    case('Placement'):\r\n      return Placement;\r\n    case('Grid'):\r\n      return Grid;\r\n    case('Markov'):\r\n      return Markov;\r\n    case('Transform'):\r\n      return Transform;\r\n    case('Color'):\r\n      return Color;\r\n    case('Red'):\r\n      return Red;\r\n    case('Blue'):\r\n      return Blue;\r\n    case('Green'):\r\n      return Green;\r\n    case('Translate'):\r\n      return Translate;\r\n    case('Rotate'):\r\n      return Rotate;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n//import Icons\r\nimport SVG from 'react-svg'\r\nimport icon_save_alt from '../../Icons/save_alt.svg';\r\nimport icon_code from '../../Icons/code.svg';\r\n// import Components\r\nimport Workspace from '../../Components/Workspace/Workspace';\r\n// import Boxes\r\nimport {getClassFromName} from '../../Components/Index';\r\n\r\nwindow.addClassToElement = function(name, target) {\r\n  let cl = getClassFromName(name);\r\n  target.addChild(cl);\r\n  if(!(target instanceof Workspace)) {\r\n    Workspace.forceUpdate();\r\n  }\r\n};\r\n\r\nwindow.isAuthorized = function(type, unauthorized) {\r\n  let r = true;\r\n  if(!type) return false;\r\n\r\n  if(unauthorized instanceof Array) {\r\n    let obj;\r\n    if(typeof type === \"string\") {\r\n      let cl = getClassFromName(type);\r\n      obj = new cl();\r\n    } else {\r\n      obj = new type();\r\n    }\r\n\r\n    for(let i = 0; i < unauthorized.length && r; ++i) {\r\n      console.log(unauthorized);\r\n      let unauthorizedClass = getClassFromName(unauthorized[i]);\r\n      if(unauthorizedClass === null) {\r\n        console.error(unauthorized[i] + \" : Invalid unauthorized Class\");\r\n        continue;\r\n      }\r\n      r = r && !(obj instanceof unauthorizedClass);\r\n    }\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\nclass App extends Component {\r\n  state = {\r\n    DownloadName: \"Untitled\",\r\n    DownloadFormat: \"svg\"\r\n  }\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  downloadImage = function(el) {\r\n    //var canvas = document.getElementById(\"defaultCanvas0\");\r\n    //var image = canvas.toDataURL(\"image/jpeg\");\r\n    //el.href = image;\r\n    Canvas.savePaper(this.state.DownloadName, this.state.DownloadFormat);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header border-bottom\">\r\n          <div className=\"App-logo\">Paper&#123; &#125;</div>\r\n        </header>\r\n        <main>\r\n            <Workspace>\r\n\r\n            </Workspace>\r\n            <div className=\"render border-left\">\r\n              <div className=\"editionMenu border-bottom\">\r\n                <div className=\"save\">\r\n                  <a className=\"button save__button border-right\" onClick={(event) => this.downloadImage(event.target)}>\r\n                    <SVG src={icon_save_alt}/>\r\n                  </a>\r\n                  <input className=\"save__name\" type=\"text\" value={this.state.DownloadName} onChange={(event) => {this.setState({DownloadName: event.target.value})}}/>\r\n                  <div className=\"save__format\">\r\n                    <input id=\"save__svg\" type=\"radio\" value=\"svg\" name=\"saveFormat\" defaultChecked onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__svg\" className=\"save__formatItem button border-left\">.svg</label>\r\n                    <input id=\"save__jpg\" type=\"radio\" value=\"jpg\" name=\"saveFormat\" onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__jpg\" className=\"save__formatItem button border-left\">.jpg</label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"button displayCode border-left\">\r\n                  <SVG src={icon_code}/>\r\n                </div>\r\n              </div>\r\n                <Canvas/>\r\n            </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Containers/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { configure } from 'enzyme';\r\nimport Adapter from 'enzyme-adapter-react-16';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}