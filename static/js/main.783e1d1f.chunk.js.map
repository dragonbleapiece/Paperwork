{"version":3,"sources":["Icons/code.svg","Icons/info.svg","Icons/cancel.svg","Icons/arrow_right.svg","Icons/scale.svg","Icons/save_alt.svg","Icons/full_square.svg","Icons/full_triangle.svg","Icons/full_ellipse.svg","Icons/HHatching.svg","Icons/VHatching.svg","Icons/LOHatching.svg","Icons/ROHatching.svg","Icons/grid_on.svg","Icons/next.svg","Icons/unknown.svg","Icons/translate.svg","Icons/rotate.svg","Icons/void.svg","Components/Canvas/Canvas.js","Constants.js","Components/DropBox/DropBox.js","Components/DragBox/DragBox.js","Components/ContextMenuBox/ContextMenuBox.js","Components/Colors/Color.js","Components/Transforms/Transform.js","Components/Input/Input.js","Components/Input/SliderBox/SliderBox.js","Components/Transforms/Scale/Scale.js","Components/Box/Box.js","Components/BoxGroup/BoxGroup.js","Components/Colors/Black.js","Components/Workspace/Workspace.js","Components/Save/Save.js","Components/Figures/Figure.js","Components/Figures/Rectangle/Rectangle.js","Components/Figures/Triangle/Triangle.js","Components/Figures/Ellipse/Ellipse.js","Components/Figures/Hatching/Hatching.js","Components/Figures/Hatching/HHatching/HHatching.js","Components/Figures/Hatching/VHatching/VHatching.js","Components/Figures/Hatching/LOHatching/LOHatching.js","Components/Figures/Hatching/ROHatching/ROHatching.js","Components/Placement/Placement.js","Components/Series/Series.js","Components/Modes/Mode.js","Components/Modes/GridMode/GridMode.js","Components/Modes/GridMode/LinearY/LinearY.js","Components/Modes/GridMode/LinearX/LinearX.js","Components/Modes/GridMode/DiagonalLeft/DiagonalLeft.js","Components/Modes/GridMode/DiagonalRight/DiagonalRight.js","Components/Modes/GridMode/Orthogonal/Orthogonal.js","Components/Modes/GridMode/SnailRight/SnailRight.js","Components/Placement/Grid/Grid.js","Components/InBox/InBox.js","Components/Input/RangeBox/RangeBox.js","Components/Markov/Markov.js","Components/Transforms/Translate/Translate.js","Components/Transforms/Rotate/Rotate.js","Components/Void/Void.js","Components/Colors/Red.js","Components/Colors/Orange.js","Components/Colors/Yellow.js","Components/Colors/Green.js","Components/Colors/LightBlue.js","Components/Colors/Blue.js","Components/Colors/White.js","Components/Index.js","Containers/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","p5","require","Canvas","props","_this","Object","classCallCheck","this","undefined","_instance","possibleConstructorReturn","getPrototypeOf","call","state","function","width","height","strokeWeight","assertThisInitialized","filename","extension","_P5","savePaper","ext","arguments","length","canvasWidth","window","innerWidth","canvasHeight","innerHeight","CanvasSize","setState","self","sk","setup","bind","draw","windowResized","strokeScale","f","CalcCanvasSize","resizeCanvas","saveSVG","_this$state","createCanvas","SVG","noLoop","updateWorkspace","scale","pixelDensity","initP5","react_default","a","createElement","className","id","Component","ItemTypes","boxTarget","canDrop","monitor","getItem","hover","component","item","isOver","shallow","hovered","el","drop","didDrop","clientOffset","getClientOffset","componentRect","findDOMNode","getBoundingClientRect","x","right","y","bottom","left","top","moved","DropBox","_this$props","connectDropTarget","constructor","children","DropTarget","connect","dropTarget","isOverCurrent","itemType","getItemType","boxSource","beginDrag","endDrag","result","getDropResult","console","log","removeFromParent","pushChild","type","DragBox","d","parseInt","style","coord","Number","isNaN","position","setStyle","onClose","Workspace","forceUpdate","isDragging","connectDragSource","connectDragPreview","onClick","react_svg","src","cancel","icon","fill","color","backgroundColor","textColor","name","DragSource","dragPreview","dragSource","menu","elements","ContextMenuBox","event","data","addClassToElement","m","handleClick","_this2","map","index","unauthorized","indexOf","getIconClassFromName","es6","key","shortid","generate","title","Fragment","arrow_right","getMenu","menuItems","suppMenu","concat","holdToDisplay","Color","r","g","b","Transform","Input","SliderBox","es","min","max","defaultValue","marks","step","steps","padding","trackStyle","borderRadius","railStyle","handleStyle","marginTop","borderColor","dotStyle","onChange","value","onAfterChange","Scale","Input_SliderBox_SliderBox","1","10","20","scaleIcon","menuColor","Box","initState","ref","next","drawBeforeType","getClassFromName","doBeforeAddChild","_id","Function","push","i","child","functionToCall","object","cl","getFunctionClass","isAuthorized","beforeAddChild","obj","parent","filter","setChildren","elmnt","nextType","callDrawBeforeType","_this3","saveState","_this4","Transforms_Scale_Scale","c","isNotBlack","formatedColor","formatedTextColor","formatedBackgroundColor","Components_ContextMenuBox_ContextMenuBox","Components_DragBox_DragBox","renderBox","getTransforms","Components_DropBox_DropBox","getChildren","BoxGroup","toConsumableArray","esm_get","prototype","element","drawBeforeChild","pop","React","Children","Black","addDrawBeforeType","translate","box","addChild","background","getP5Color","noStroke","sendDraw","DragDropContext","HTML5Backend","Save","DownloadName","DownloadNameSaved","DownloadSuffixNumber","svg","jpg","DownloadSuffix","DownloadFormat","downloadImage","nb","dname","target","onBlur","defaultChecked","checked","htmlFor","icon_save_alt","Figure","drawFigure","Rectangle","square","rect","Triangle","triangle","Ellipse","ellipse","Hatching","density","stroke","HHatching","HHatchingIcon","gapY","j","line","VHatching","VHatchingIcon","gapX","LOHatching","LOHatchingIcon","ROHatching","ROHatchingIcon","Placement","mode","currentMode","Series","currentState","Mode","GridMode","LinearY","rows","columns","callback","column","row","LinearX","lines","DiagonalLeft","compteur","DiagonalRight","Orthogonal","SnailRight","Math","round","side","move","Wrapper","_class","_temp","_len","Array","_key","authorizedChildren","Child","_Component","apply","inherits","createClass","boxChildren","assign","find","wrapper","InBox","Grid","grid_on","elem","50","renderMode","RangeBox","trackStyleArray","count","handleStyleArray","innerRef","clamp","clamp_left","clamp_right","checkLeft","userValue","handle","checkRight","Markov","elementsLength","random","idElement","proba","rand","sliders","defaultValues","floor","propsRange","0","100","pushable","RangeIcon","inputs","unknown","bounds","_loop","propsInput","onKeyDown","Input_RangeBox_RangeBox","Translate","destX","destY","Rotate","rotate","Void","voidIcon","Red","Orange","Yellow","Green","LightBlue","Blue","White","unauthorizedClass","error","toggle","App","aboutDisplay","ReactDOM","refs","display","aboutClick","icon_info","Components_Workspace_Workspace","icon_code","Components_Save_Save","Components_Canvas_Canvas","Boolean","location","hostname","match","configure","adapter","Adapter","render","Containers_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.783e1d1f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/code.74f0e940.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.b08ccdbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.4afab8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.79443cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/scale.08ae3836.svg\";","module.exports = __webpack_public_path__ + \"static/media/save_alt.3ccde972.svg\";","module.exports = __webpack_public_path__ + \"static/media/full_square.c61ab8ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/full_triangle.288a2239.svg\";","module.exports = __webpack_public_path__ + \"static/media/full_ellipse.61cb41c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/HHatching.f3da2da9.svg\";","module.exports = __webpack_public_path__ + \"static/media/VHatching.c8766020.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOHatching.186b393d.svg\";","module.exports = __webpack_public_path__ + \"static/media/ROHatching.8c0092fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/grid_on.8ace643b.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.0f510805.svg\";","module.exports = __webpack_public_path__ + \"static/media/unknown.3f5bae44.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.aaf3d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.5d1fc53d.svg\";","module.exports = __webpack_public_path__ + \"static/media/void.a2a55d7b.svg\";","import React, { Component } from 'react';\r\nimport './Canvas.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nvar p5 = require('p5');\r\nrequire('p5.js-svg')(p5);\r\n\r\nclass Canvas extends Component {\r\n\r\n  /*Singleton*/\r\n  static _instance;\r\n  static _P5;\r\n  static savePaper(filename, extension) {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.savePaper(filename, extension);\r\n    }\r\n  }\r\n\r\n\r\n  state = {\r\n    function: undefined,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    if(Canvas._instance != undefined) {\r\n      return Canvas._instance;\r\n    }\r\n    super(props);\r\n    this.strokeWeight = 1;\r\n\r\n    Canvas._instance = this;\r\n  }\r\n\r\n  setfilename(filename, ext = undefined) {\r\n    this.filename = filename;\r\n    if(ext !== undefined) this.extension = ext;\r\n  }\r\n\r\n  CalcCanvasSize() {\r\n    let canvasWidth = window.innerWidth*0.5-60;\r\n    let canvasHeight = window.innerHeight-180;\r\n    let CanvasSize = (canvasWidth < canvasHeight) ? canvasWidth : canvasHeight;\r\n    this.setState({width: CanvasSize, height: CanvasSize});\r\n  }\r\n\r\n  initP5() {\r\n    let self = this;\r\n    let s = (sk) => {\r\n      sk.setup = self.setup.bind(self, sk);\r\n      sk.draw = self.draw.bind(self, sk);\r\n      sk.windowResized = self.windowResized.bind(self, sk);\r\n      sk.savePaper = self.savePaper.bind(self, sk);\r\n      sk.strokeScale = self.strokeScale.bind(self, sk);\r\n\r\n    }\r\n\r\n    Canvas._P5 = new p5(s, 'renderer');\r\n  }\r\n\r\n  sendDraw(f) {\r\n    this.setState({\r\n      function: f\r\n    });\r\n  }\r\n\r\n  resetDraw() {\r\n    this.setState({\r\n      function: undefined\r\n    });\r\n  }\r\n\r\n  windowResized(sk) {\r\n    this.CalcCanvasSize();\r\n    sk.resizeCanvas(this.state.width, this.state.height);\r\n  }\r\n\r\n  savePaper(sk, filename, extension) {\r\n    if(filename !== undefined || extension !== undefined) {\r\n      sk.saveSVG(filename + \".\" + extension);\r\n    }\r\n  }\r\n\r\n  setup(sk) {\r\n    const {width, height} = this.state;\r\n    sk.createCanvas(width, height, sk.SVG);\r\n    sk.noLoop();\r\n    window.updateWorkspace();\r\n  }\r\n\r\n  strokeScale(sk, scale) {\r\n    this.strokeWeight *= scale;\r\n    sk.strokeWeight(this.strokeWeight);\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.pixelDensity(1); //fix svg\r\n    let f = this.state.function;\r\n    if(f !== undefined) {\r\n      f(sk);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.CalcCanvasSize();\r\n    this.initP5();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    Canvas._P5.draw();\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvasContainer\">\r\n        <div id=\"renderer\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCanvas._instance = undefined;\r\nCanvas._P5 = undefined;\r\n\r\n/*PropTypes*/\r\nCanvas.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  cells: PropTypes.number\r\n}\r\n\r\nexport default Canvas;\r\n","export const ItemTypes = {\r\n  BOX: 'box'\r\n};\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport { DropTarget, DragSource } from 'react-dnd';\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDropTarget: connect.dropTarget(),\r\n    // You can ask the monitor about the current drag state:\r\n    isOver: monitor.isOver(),\r\n    isOverCurrent: monitor.isOver({ shallow: true }),\r\n    canDrop: monitor.canDrop(),\r\n    itemType: monitor.getItemType()\r\n  };\r\n}\r\n\r\n//Functions for dropping the box\r\nconst boxTarget = {\r\n  canDrop(props, monitor) {\r\n    // You can disallow drop based on props or item\r\n    const item = monitor.getItem();\r\n    //return canMakeChessMove(item.fromPosition, props.position);\r\n    return true;\r\n  },\r\n\r\n  hover(props, monitor, component) {\r\n    // This is fired very often and lets you perform side effects\r\n    // in response to the hover. You can't handle enter and leave\r\n    // hereif you need them, put monitor.isOver() into collect() so you\r\n    // can just use componentDidUpdate() to handle enter/leave.\r\n\r\n    //return;\r\n\r\n    const item = monitor.getItem();\r\n\r\n    // You can access the coordinates if you need them\r\n\r\n    // You can check whether we're over a nested drop target\r\n    const isJustOverThisOne = monitor.isOver({ shallow: true });\r\n\r\n    // You will receive hover() even for items for which canDrop() is false\r\n    const canDrop = monitor.canDrop();\r\n\r\n    item.hovered = props.el;\r\n\r\n  },\r\n\r\n  drop(props, monitor, component) {\r\n    if (monitor.didDrop()) {\r\n      // If you want, you can check whether some nested\r\n      // target already handled drop\r\n      return;\r\n    }\r\n\r\n    // Obtain the dragged item\r\n    let item = monitor.getItem();\r\n\r\n    // You can do something with it\r\n    const clientOffset = monitor.getClientOffset();\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    if(clientOffset.x > componentRect.right\r\n      || clientOffset.y > componentRect.bottom\r\n      || clientOffset.x < componentRect.left\r\n      || clientOffset.y < componentRect.top) {\r\n      return;\r\n    }\r\n\r\n    // You give to the currently moving item the new positions\r\n    item.x = clientOffset.x - item.x;\r\n    item.y = clientOffset.y - item.y;\r\n\r\n    // You can also do nothing and return a drop result,\r\n    // which will be available as monitor.getDropResult()\r\n    // in the drag source's endDrag() method\r\n    return { moved: true };\r\n  }\r\n};\r\n\r\n\r\nclass DropBox extends Component {\r\n\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isOver, canDrop, connectDropTarget } = this.props;\r\n    return connectDropTarget(\r\n      <div className={this.constructor.className}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropBox.className = \"DropBox\";\r\n\r\nexport default DropTarget(ItemTypes.BOX, boxTarget, collect)(DropBox);\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport {DragSource} from 'react-dnd';\r\nimport { getEmptyImage } from 'react-dnd-html5-backend';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport cancel from '../../Icons/cancel.svg';\r\n\r\n//Functions for dragging the box\r\nconst boxSource = {\r\n  beginDrag(props, monitor, component) {\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n    const clientOffset = monitor.getClientOffset();\r\n    let item = clientOffset;\r\n    return item;\r\n  },\r\n  endDrag(props, monitor, component) {\r\n    const item = monitor.getItem();\r\n    const result = monitor.getDropResult();\r\n    console.log(item.hovered);\r\n    if(result !== null && result.moved) {\r\n      props.el.removeFromParent();\r\n      item.hovered.pushChild({type: props.el.constructor, id: props.el.props.id, state: props.el.state});\r\n      //component.setPosition(item);\r\n    }\r\n    return {};\r\n  }\r\n};\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\n\r\nclass DragBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  setPosition(d) {\r\n    if(!d) return;\r\n    const left = parseInt(this.props.el.state.style.left);\r\n    const top = parseInt(this.props.el.state.style.top);\r\n\r\n    const coord = {\r\n      x: !Number.isNaN(left) ? left : 0,\r\n      y: !Number.isNaN(top) ? top : 0\r\n    };\r\n\r\n    const style = {\r\n      \"position\": \"absolute\",\r\n      \"top\": d.y + coord.y + \"px\",\r\n      \"left\": d.x + coord.x + \"px\"\r\n    };\r\n    console.log(coord);\r\n    this.props.el.setStyle(style);\r\n  }\r\n\r\n  onClose() {\r\n      if(this.props.onClose !== undefined) {\r\n        this.props.onClose();\r\n      }\r\n      Workspace.forceUpdate();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isDragging, connectDragSource, connectDragPreview } = this.props;\r\n\r\n    if(isDragging) {\r\n      return null;\r\n    }\r\n\r\n    return(\r\n      <div className=\"Box__wrapper\">\r\n        <span className=\"Box__titleClose\" onClick={this.onClose.bind(this)}>\r\n            <SVG src={cancel}/>\r\n        </span>\r\n        {connectDragSource(<span className=\"Box__title\">\r\n          {this.props.icon && <SVG className=\"Box__titleIcon\" src={this.props.icon} style={{fill: this.props.color, backgroundColor: this.props.backgroundColor}}/>}\r\n          <span className=\"Box__titleText\" style={{color: this.props.textColor}}>{this.props.name}</span>\r\n        </span>)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragSource(ItemTypes.BOX, boxSource, collect)(DragBox);\r\n","import React, { Component } from 'react';\r\nimport './ContextMenuBox.css';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport arrow_right from '../../Icons/arrow_right.svg';\r\n\r\nconst menu = [\r\n  {\r\n    type: 'Placement',\r\n    elements: [\r\n      {type: 'Grid'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Elements',\r\n    elements: [\r\n      {type: 'Rectangle'},\r\n      {type: 'Triangle'},\r\n      {type: 'Ellipse'},\r\n      {type: 'HHatching'},\r\n      {type: 'VHatching'},\r\n      {type: 'LOHatching'},\r\n      {type: 'ROHatching'},\r\n      {type: 'Void'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Markov'\r\n  }\r\n];\r\n\r\nclass ContextMenuBox extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  handleClick(event, data) {\r\n    if(data.type !== undefined) {\r\n      window.addClassToElement(data.type, data.el);\r\n    }\r\n  }\r\n\r\n  getMenu(m, handleClick) {\r\n    return m.map(\r\n      (item, index) => {\r\n        if(this.props.el.constructor.unauthorized.indexOf(item.type) === -1) {\r\n          let icon = window.getIconClassFromName(item.type);\r\n          if (!item.elements) {\r\n            return (<MenuItem onClick={handleClick} data={{ type: item.type, el: this.props.el }} key={shortid.generate()}>\r\n              {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n              <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n            </MenuItem>);\r\n          } else {\r\n            return (<SubMenu key={shortid.generate()} title={\r\n              <>\r\n                <span  className=\"react-contextmenu-itemLabel\">\r\n                {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n                <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n                </span>\r\n                <span className=\"react-contextmenu-itemIcon\"><SVG src={arrow_right}/></span>\r\n              </>\r\n            }>\r\n                {this.getMenu(item.elements, handleClick)}\r\n            </SubMenu>);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    let menuItems = [];\r\n    if(this.props.el.constructor.unauthorized.indexOf(\"*\") === -1) {\r\n      menuItems = this.getMenu(menu, this.handleClick.bind(this));\r\n    }\r\n\r\n    for(let key in this.props.suppMenu) {\r\n      let suppMenu = this.props.suppMenu[key];\r\n      if( suppMenu.menu && suppMenu.handleClick ) {\r\n        menuItems = menuItems.concat(this.getMenu(suppMenu.menu, suppMenu.handleClick));\r\n      }\r\n    }\r\n\r\n    console.log(this.props.el.constructor.className, menuItems, menuItems.length);\r\n\r\n    return (\r\n      <>\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n        {(menuItems.length > 0) && <ContextMenu id={this.props.id}>\r\n            {menuItems}\r\n        </ContextMenu>}\r\n      </>\r\n    );\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default ContextMenuBox;\r\n","class Color {\r\n\r\n  constructor(r = 0, g = 0, b = 0, a = 255) {\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n    this.a = a;\r\n  }\r\n\r\n  getP5Color(sk) {\r\n    return sk.color(this.r, this.g, this.b, this.a);\r\n  }\r\n\r\n}\r\n\r\nColor.className = \"Color\";\r\n\r\nexport default Color;\r\n","import React, { Component } from 'react';\r\nimport './Transform.css';\r\n\r\n\r\n/*Attribute*/\r\nclass Transform extends Component {\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Transform.className;\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nTransform.className = \"Transform\";\r\nTransform.icon = undefined;\r\n\r\nexport default Transform;\r\n","import React, { Component } from 'react';\r\nimport './Input.css';\r\n\r\nclass Input extends Component {\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './SliderBox.css';\r\n\r\nclass SliderBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Slider\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={{marginTop: '-3px', borderColor: 'black' }}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {if(this.props.onChange) {this.props.onChange(value);}}}\r\n        onAfterChange={() => Workspace.forceUpdate()}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SliderBox;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Scale.css';\r\nimport scaleIcon from '../../../Icons/scale.svg';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\n\r\n/*Attribute*/\r\nclass Scale extends Transform {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Scale.className;\r\n    this.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.scale(this.scaleX, this.scaleY);\r\n      let max = Math.max(this.scaleX, this.scaleY);\r\n      sk.strokeWeight(1/max);\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n      sk.strokeWeight(1);\r\n    sk.pop();\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <SliderBox min={1} max={20} defaultValue={10} marks={{1:0.1, 10:1, 20:2}} step={1} onChange={(value) => {\r\n        this.scale = {x: value / 10, y: value / 10};\r\n        if(this.props.onChange) this.props.onChange(this.scale);\r\n      }} />\r\n    );\r\n  }\r\n}\r\n\r\nScale.className = \"Scale\";\r\nScale.icon = scaleIcon;\r\n\r\nexport default Scale;\r\n","import React, { Component } from 'react';\r\nimport './Box.css';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Color from '../Colors/Color';\r\nimport Scale from '../Transforms/Scale/Scale';\r\n\r\nconst menuColor = [\r\n  {\r\n    type: 'Color',\r\n    elements: [\r\n      {type: 'Black'},\r\n      {type: 'White'},\r\n      {type: 'Red'},\r\n      {type: 'Orange'},\r\n      {type: 'Yellow'},\r\n      {type: 'Green'},\r\n      {type: 'LightBlue'},\r\n      {type: 'Blue'}\r\n    ]\r\n  }\r\n];\r\n\r\nconst className = \"Box\";\r\nconst unauthorized = [];\r\n\r\nfunction getFunctionClass(child, object) {\r\n  for(let key in object) {\r\n    const cl = window.getClassFromName(key);\r\n    if(!cl) return undefined;\r\n    const instanceOfChild = new child();\r\n    if(instanceOfChild instanceof cl) {\r\n      return object[key];\r\n    }\r\n  }\r\n}\r\n\r\n/*Pencil*/\r\nclass Box extends Component {\r\n\r\n  static get id() {\r\n    return Box._id++;\r\n  }\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return unauthorized;\r\n  }\r\n\r\n  state = {\r\n    children: [],\r\n    style: {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(props && this.props.state) {\r\n      this.state = this.props.state;\r\n    } else {\r\n      this.initState();\r\n    }\r\n\r\n    this.ref = this;\r\n    this.className = Box.className;\r\n    this.name = Box.className;\r\n    this.next = undefined;\r\n    this.drawBeforeType = {};\r\n    this.suppMenu = [{\r\n      menu: menuColor,\r\n      handleClick: (event, data) => {\r\n       if(data.type) {\r\n         let color = window.getClassFromName(data.type);\r\n         if(color) this.setState({color: new color()});\r\n         window.updateWorkspace();\r\n       }\r\n      }\r\n    }];\r\n    this.doBeforeAddChild = {};\r\n\r\n  }\r\n\r\n  initState() {\r\n    this.state.color = new Color(255, 255, 255);\r\n    this.state.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  addDrawBeforeType(type, f) {\r\n    if(!(f instanceof Function)) return;\r\n    if(!this.drawBeforeType[type]) {\r\n      this.drawBeforeType[type] = [f];\r\n    } else {\r\n      this.drawBeforeType[type].push(f);\r\n    }\r\n  }\r\n\r\n  callDrawBeforeType(sk, type) {\r\n    for(let i = 0; i < this.drawBeforeType[type].length; ++i) {\r\n      this.drawBeforeType[type][i](sk);\r\n    }\r\n  }\r\n\r\n  beforeAddChild(child) {\r\n    const functionToCall = getFunctionClass(child, this.doBeforeAddChild);\r\n\r\n    console.log(functionToCall);\r\n\r\n    if(functionToCall instanceof Function) {\r\n      return functionToCall(child);\r\n    } else {\r\n      return child;\r\n    }\r\n  }\r\n\r\n  addChild(child) {\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(obj instanceof Box && this.isAuthorized(child)) {\r\n      this.setState({\r\n        children: [{type:this.beforeAddChild(child), id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  pushChild(child) {\r\n    if(!child || !child.type || !child.id) return;\r\n    let obj = new child.type(); //tricky\r\n    if(this.isAuthorized(child.type) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [child]\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.setState({\r\n      children: children\r\n    })\r\n  }\r\n\r\n  isAuthorized(cl) {\r\n    const unauthorized = this.constructor.unauthorized;\r\n    return window.isAuthorized(cl, unauthorized);\r\n  }\r\n\r\n  removeFromParent() {\r\n    let children = this.props.parent.state.children;\r\n    console.log(children.length);\r\n    children = children.filter(el => el.id !== this.props.id);\r\n    console.log(children.length);\r\n    this.props.parent.setChildren(children);\r\n  }\r\n\r\n  addNext(elmnt) {\r\n    if(elmnt !== undefined) {\r\n      if(elmnt instanceof Box) {\r\n        this.next = elmnt;\r\n        this.nextType = elmnt.constructor.name;\r\n      }\r\n    }\r\n  }\r\n\r\n  setStyle(style) {\r\n    this.setState({\r\n      style: style\r\n    });\r\n  }\r\n\r\n  drawBeforeChild(sk, child) {\r\n    if(!child) return;\r\n    for(let key in this.drawBeforeType) {\r\n      console.log(key);\r\n      if(child instanceof window.getClassFromName(key)) {\r\n        this.callDrawBeforeType(sk, key);\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n\r\n  getChildren() {\r\n    this.next = undefined;\r\n    let children = [];\r\n\r\n    if(this.state.children.length > 0) {\r\n      let child = this.state.children[0];\r\n      children.push(<child.type key={child.id} parent={this} id={child.id} ref={el => {this.next = el ? el.ref : null;}} saveState={(state) => {child.state = state}} state={child.state}/>);\r\n    }\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  getTransforms() {\r\n    return (\r\n      <Scale onChange={(scale) => {this.setState({scale: scale});}}/>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const {saveState} = this.props;\r\n    if(saveState) {\r\n      saveState(this.state);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let c = this.state.color;\r\n    let isNotBlack = (c.r+c.g+c.b !== 0);\r\n    let formatedColor = \"rgba(\"+c.r+\", \"+c.g+\", \"+c.b+\", \"+c.a/255+\")\";\r\n    let formatedTextColor = (isNotBlack) ? formatedColor : \"rgba(255, 255, 255, 1)\";\r\n    let formatedBackgroundColor = (isNotBlack) ? \"rgba(0, 0, 0, 1)\" : \"rgba(255, 255, 255, 1)\" ;\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.constructor.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DragBox icon={this.constructor.icon} color={formatedColor} textColor={formatedTextColor} backgroundColor={formatedBackgroundColor} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} el={this}>\r\n            <span className=\"Box__content\">\r\n              <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n                {this.getTransforms()}\r\n              </ContextMenuTrigger>\r\n              <DropBox el={this}>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id} holdToDisplay={-1}>\r\n                  {this.constructor.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBox._id = 0; //or use shortid ?\r\n\r\nexport default Box;\r\n","import React, { Component } from 'react';\r\nimport './BoxGroup.css';\r\nimport Box from '../Box/Box';\r\nimport {shallow, instance} from 'enzyme';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\nconst className = \"BoxGroup\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass BoxGroup extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = BoxGroup.className;\r\n    this.elements = [];\r\n  }\r\n\r\n  addChild(child) {\r\n\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    let children = this.state.children;\r\n    if(obj instanceof Box && this.isAuthorized(child)) {\r\n      this.setState({\r\n        children: [...this.state.children, {type:this.beforeAddChild(child), id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  pushChild(child) {\r\n    if(!child || !(\"type\" in child) || !(\"id\" in child)) return;\r\n    let obj = new child.type(); //tricky\r\n    if(this.isAuthorized(child.type) && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push(child);\r\n      console.log(child);\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.elements = [];\r\n    super.setChildren(children);\r\n  }\r\n\r\n  draw(sk) {\r\n    let el = this.elements;\r\n    for(let i = 0; i <el.length; ++i) {\r\n       let element = el[i];\r\n       sk.push();\r\n         this.drawBeforeChild(sk, element);\r\n         if(element) element.draw(sk);\r\n        sk.pop();\r\n    }\r\n  }\r\n\r\n  initElements(instance = Box, callback = function() {}) {\r\n\r\n    let elements = [];\r\n\r\n    const children = React.Children.map(this.props.children,\r\n       (child, index) => {\r\n              elements.push(child);\r\n              //box.parent = callback;\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.initElements();\r\n  }\r\n\r\n  getChildren() {\r\n    this.elements = [];\r\n    let children = this.state.children.map((child, index) =>\r\n      <child.type key={child.id} id={child.id} parent={this} ref={el => {if(el) this.elements[index] = el.ref;}} saveState={(state) => {child.state = state}} state={child.state}/>\r\n    );\r\n\r\n\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n\r\n    const renderBox = this.renderBox() ? true : false;\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} suppMenu={this.suppMenu} unauthorized={this.constructor.unauthorized} el={this}>\r\n          <DragBox icon={this.constructor.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} className={this.className} el={this}>\r\n            <span className=\"Box__content\">\r\n              {renderBox && <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n              </ContextMenuTrigger>}\r\n              <DropBox el={this}>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id} holdToDisplay={-1}>\r\n                  {this.constructor.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BoxGroup;\r\n","import Color from './Color';\r\n\r\nclass Black extends Color {\r\n\r\n  constructor() {\r\n    super(0, 0, 0, 255);\r\n  }\r\n\r\n}\r\n\r\nBlack.className = \"Black\";\r\n\r\nexport default Black;\r\n","import React, { Component } from 'react';\r\nimport './Workspace.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport Box from '../Box/Box';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport {shallow, instance} from 'enzyme';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport ItemTypes from '../../Constants.js';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport Black from '../Colors/Black';\r\n\r\nconst menuColor = [\r\n  {\r\n    type: 'Background Color',\r\n    elements: [\r\n      {type: 'Black'},\r\n      {type: 'White'},\r\n      {type: 'Red'},\r\n      {type: 'Orange'},\r\n      {type: 'Yellow'},\r\n      {type: 'Green'},\r\n      {type: 'LightBlue'},\r\n      {type: 'Blue'}\r\n    ]\r\n  }\r\n];\r\n\r\nconst className = \"Workspace\";\r\nconst unauthorized = [\"Markov\", \"Series\"];\r\n\r\nclass Workspace extends BoxGroup {\r\n\r\n  static _instance;\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return unauthorized;\r\n  }\r\n\r\n  static addChild(box) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addChild(box);\r\n    }\r\n  }\r\n\r\n  static forceUpdate() {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.forceUpdate();\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    if(Workspace._instance !== undefined) {\r\n      return Workspace._instance;\r\n    }\r\n    super(props);\r\n    this.className = this.constructor.className;\r\n    this.elements = []; //no this.state.elements\r\n    this.addDrawBeforeType(\"Figure\", function(sk) {\r\n      sk.translate(sk.width / 2, sk.height / 2)\r\n      sk.scale(sk.width, sk.height);\r\n      sk.strokeWeight(1 / sk.width);\r\n    });\r\n    Workspace._instance = this;\r\n    // Redefinition of Menu Colors\r\n    this.suppMenu = [{\r\n      menu: menuColor,\r\n      handleClick: (event, data) => {\r\n       if(data.type) {\r\n         let color = window.getClassFromName(data.type);\r\n         if(color) this.setState({color: new color()});\r\n         window.updateWorkspace();\r\n       }\r\n      }\r\n    }];\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.children = [];\r\n    this.state.color = new Black();\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.background(this.state.color.getP5Color(sk));\r\n    sk.noStroke();\r\n    super.draw(sk);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    canvas.sendDraw(this.draw.bind(this));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className}>\r\n        <ContextMenuBox id={this.constructor.className} unauthorized={this.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DropBox el={this}>\r\n            {!this.state.children.length && <span className=\"Workspace__placeholder\">Right click here</span>}\r\n            {this.getChildren()}\r\n          </DropBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragDropContext(HTML5Backend)(Workspace);\r\n","import React, { Component } from 'react';\r\nimport './Save.css';\r\n// import Components\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport icon_save_alt from '../../Icons/save_alt.svg';\r\n\r\nclass Save extends Component {\r\n  state = {\r\n    DownloadName: \"Untitled\",\r\n    DownloadNameSaved: \"Untitled\",\r\n    DownloadSuffixNumber: {\r\n      svg: 0,\r\n      jpg: 0\r\n    },\r\n    DownloadSuffix: \"\",\r\n    DownloadFormat: \"svg\"\r\n  }\r\n  downloadImage = function(el) {\r\n\r\n    let nb = this.state.DownloadSuffixNumber;\r\n    let dname = this.state.DownloadName;\r\n    nb[this.state.DownloadFormat] = nb[this.state.DownloadFormat]+1;\r\n    this.setState({DownloadSuffixNumber: nb});\r\n    this.setState({DownloadSuffix: \"-\" + (nb[this.state.DownloadFormat]+1)});\r\n\r\n    if (this.state.DownloadName == this.state.DownloadNameSaved) {\r\n      dname = (nb[this.state.DownloadFormat] == 1) ? this.state.DownloadName : this.state.DownloadName + \"-\" + nb[this.state.DownloadFormat];\r\n      Canvas.savePaper(dname, this.state.DownloadFormat);     \r\n    } else {\r\n      this.setState({DownloadNameSaved: this.state.DownloadName});\r\n      Canvas.savePaper(dname, this.state.DownloadFormat);\r\n    }\r\n    console.log(\"SUFFIX\", nb[this.state.DownloadFormat], \"NAME + FORMAT\", dname + \".\" + this.state.DownloadFormat);\r\n  }\r\n    render() {\r\n        return(\r\n            <div className=\"save\">\r\n              <input\r\n              className=\"save__name\"\r\n              type=\"text\"\r\n              value={this.state.DownloadName}\r\n              onChange={(event) => {\r\n                this.setState({DownloadSuffixNumber: {svg: 0, jpg: 0}, DownloadSuffix: \"\", DownloadName: event.target.value})\r\n              }}\r\n              onBlur={(event) => {\r\n                let dname = (event.target.value == \"\") ? \"Untitled\" : event.target.value;\r\n                this.setState({DownloadName: dname});\r\n              }}\r\n              />\r\n              <span className=\"save__nameSuffixe\">{this.state.DownloadSuffix}</span>\r\n              <div className=\"save__format\">\r\n                <input id=\"save__svg\" type=\"radio\" value=\"svg\" name=\"saveFormat\" defaultChecked onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                <label htmlFor=\"save__svg\" className=\"save__formatItem button border-left\">.svg</label>\r\n                <input id=\"save__jpg\" type=\"radio\" value=\"jpg\" name=\"saveFormat\" onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                <label htmlFor=\"save__jpg\" className=\"save__formatItem button border-left\">.jpg</label>\r\n              </div>\r\n              <a className=\"button save__button border-left\" onClick={(event) => this.downloadImage(event.target)}>\r\n                <SVG src={icon_save_alt}/>\r\n              </a>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Save;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Figure.css';\r\n\r\nconst className = \"Figure\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Figure extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Figure.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 0;\r\n    this.height = 0;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.fill(this.state.color.getP5Color(sk));\r\n      sk.scale(this.state.scale.x, this.state.scale.y);\r\n      sk.translate(-this.width / 2, -this.height / 2);\r\n      this.drawFigure(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nexport default Figure;\r\n","import React, { Component } from 'react';\r\nimport './Rectangle.css';\r\nimport Figure from '../Figure';\r\nimport square from '../../../Icons/full_square.svg';\r\n\r\nconst className = \"Rectangle\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Rectangle extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return square;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rectangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.rect(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nexport default Rectangle;\r\n","import React, { Component } from 'react';\r\nimport './Triangle.css';\r\nimport Figure from '../Figure';\r\nimport triangle from '../../../Icons/full_triangle.svg';\r\n\r\nconst className = \"Triangle\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Triangle extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return triangle;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Triangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.triangle(this.x, this.y + this.height, this.x + this.width, this.y + this.height, (this.x + this.width) / 2, this.y);\r\n  }\r\n}\r\n\r\n\r\nexport default Triangle;\r\n","import React, { Component } from 'react';\r\nimport './Ellipse.css';\r\nimport Figure from '../Figure';\r\nimport ellipse from '../../../Icons/full_ellipse.svg';\r\n\r\nconst className = \"Ellipse\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Ellipse extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return ellipse;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Ellipse.className;\r\n    this.width = 1;\r\n    this.height = 1;\r\n    this.x = this.width / 2;\r\n    this.y = this.height / 2;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.ellipse(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nexport default Ellipse;\r\n","import React, { Component } from 'react';\r\nimport Figure from '../Figure';\r\nimport './Hatching.css';\r\n\r\nconst className = \"Hatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Hatching extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Hatching.className;\r\n    this.density = 10;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.stroke(this.state.color.getP5Color(sk));\r\n    super.draw(sk);\r\n    sk.noStroke();\r\n  }\r\n\r\n}\r\n\r\nexport default Hatching;\r\n","import React, { Component } from 'react';\r\nimport './HHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport HHatchingIcon from '../../../../Icons/HHatching.svg';\r\n\r\nconst className = \"HHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass HHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return HHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + HHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let gapY = this.height / this.density;\r\n    for(var j = 0; j <= this.density ; j++){\r\n      sk.line(this.x, this.y + j * gapY, this.x + this.width, this.y + j * gapY);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default HHatching;\r\n","import React, { Component } from 'react';\r\nimport './VHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport VHatchingIcon from '../../../../Icons/VHatching.svg';\r\n\r\nconst className = \"VHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass VHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return VHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + VHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let gapX = this.width / this.density;\r\n    for(var i = 0; i <= this.density ; i++){\r\n      sk.line(this.x + i * gapX, this.y, this.x + i * gapX, this.y + this.height);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default VHatching;\r\n","import React, { Component } from 'react';\r\nimport './LOHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport LOHatchingIcon from '../../../../Icons/LOHatching.svg';\r\n\r\nconst className = \"LOHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass LOHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return LOHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LOHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x;\r\n    let j = this.y + this.height;\r\n    let gapX = (this.width / this.density);\r\n    let gapY = (this.height / this.density);\r\n    while(i < this.x + this.width){\r\n      sk.line(i, this.y, this.x+this.width, j);\r\n      i += gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x + this.width;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(this.x, j, i, this.y+this.height);\r\n      i -= gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default LOHatching;\r\n","import React, { Component } from 'react';\r\nimport './ROHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport ROHatchingIcon from '../../../../Icons/ROHatching.svg';\r\n\r\nconst className = \"ROHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass ROHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return ROHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + ROHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x + this.width;\r\n    let j = this.y + this.height;\r\n    let gapX = (this.width / this.density);\r\n    let gapY = (this.height / this.density);\r\n    while(j > this.y){\r\n      sk.line(this.x, j, i, this.y);\r\n      i -= gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(i, this.y + this.height, this.x + this.width, j);\r\n      i += gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default ROHatching;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Placement.css';\r\nimport shortid from 'shortid';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\nconst className = \"Placement\";\r\nconst unauthorized = [\"Placement\"];\r\n\r\n/*Pencil*/\r\nclass Placement extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Placement.className;\r\n    this.suppMenu.push({\r\n      menu: undefined,\r\n      handleClick: (event, data) => {\r\n        if(data.type) {\r\n          this.setState({mode: window.getClassFromName(data.type)})\r\n          Workspace.forceUpdate();\r\n        }\r\n      }\r\n    });\r\n    this.suppMenu[this.suppMenu.length - 1].handleClick.bind(this);\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.currentMode = undefined;\r\n    this.state.mode = null;\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n  renderMode() {\r\n    if(!this.state.mode) return null;\r\n    return (<this.state.mode key={this.constructor.className + this.state.mode.className} ref={el => {this.state.currentMode = el}} />);\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nexport default Placement;\r\n","import React, { Component } from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport './Series.css';\r\nimport shortid from 'shortid';\r\n\r\nconst className = \"Series\";\r\nconst unauthorized = [\"Placement\", \"Series\", \"Markov\"];\r\n\r\n/*Pencil*/\r\nclass Series extends BoxGroup {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Series.className;\r\n    this.suppMenu = [];\r\n    this.currentState = 0;\r\n  }\r\n\r\n  setChildren(children) {\r\n    console.log(this.state.children.length);\r\n    super.setChildren(children);\r\n    this.currentState = 0;\r\n    console.log(this.state.children.length);\r\n  }\r\n\r\n  draw(sk) {\r\n    if(this.elements.length === 0) return;\r\n\r\n    if(this.elements[this.currentState]) this.elements[this.currentState].draw(sk);\r\n    this.currentState = (this.currentState + 1) % this.elements.length;\r\n  }\r\n\r\n}\r\n\r\nexport default Series;\r\n","import React, { Component } from 'react';\r\nimport './Mode.css';\r\n\r\n\r\n/*Pencil*/\r\nclass Mode extends Component {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Mode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"gridMode\">\r\n        <span className=\"gridMode__label\">Grid Distribution </span>\r\n        <span className=\"gridMode__text\">{this.constructor.className}</span>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nMode.className = \"Mode\";\r\n\r\nexport default Mode;\r\n","import React, { Component } from 'react';\r\nimport './GridMode.css';\r\nimport Mode from \"../Mode\";\r\n\r\n\r\n/*Pencil*/\r\nclass GridMode extends Mode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + GridMode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n}\r\n\r\nGridMode.className = \"GridMode\";\r\n\r\nexport default GridMode;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearY extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearY.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < columns; i++) {\r\n      sk.push();\r\n        sk.translate(column * i, 0);\r\n    \t\tfor(var j = 0; j < rows; j++) {\r\n          sk.push();\r\n            sk.translate(0, j * row);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n\r\n}\r\n\r\nLinearY.className = \"LinearY\";\r\n\r\nexport default LinearY;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearX extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearX.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback, lines} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < rows; i++) {\r\n      sk.push();\r\n        sk.translate(0, row * i);\r\n        if(lines) sk.line(0, 0, sk.width, 0);\r\n    \t\tfor(var j = 0; j < columns; j++) {\r\n          sk.push();\r\n            sk.translate(j * column, 0);\r\n            if(lines) sk.line(0, 0, 0, sk.height);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n}\r\n\r\nLinearX.className = \"LinearX\";\r\n\r\nexport default LinearX;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalLeft extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalLeft.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (let compteur = 0; compteur < columns; compteur++){\r\n      let i = columns - 1;\r\n      let j = compteur;\r\n      while(j >= 0){\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n    for (let compteur = columns-1; compteur > 0; compteur--){\r\n      let i = compteur - 1;\r\n      let j = rows - 1;\r\n      while (i >= 0) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nDiagonalLeft.className = \"DiagonalLeft\";\r\n\r\nexport default DiagonalLeft;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur < columns; compteur++){\r\n      for (var i = 0; i <= compteur; i++) {\r\n        sk.push();\r\n          sk.translate(column * i, (compteur-i) * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n    for (var compteur = columns - 1; compteur > 0; compteur--){\r\n      var i = columns-compteur;\r\n      var j = rows - 1;\r\n      while (i < columns) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i+=1;\r\n        j-=1;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nDiagonalRight.className = \"DiagonalRight\";\r\n\r\nexport default DiagonalRight;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass Orthogonal extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Orthogonal.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur <= columns; compteur++) {\r\n      let i, j;\r\n      for (i = 0; i <= compteur; i++){\r\n        sk.push();\r\n          sk.translate(i * column, compteur * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n      for (j = compteur - 1; j >= 0; j--){\r\n        sk.push();\r\n          sk.translate(column * compteur, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nOrthogonal.className = \"Orthogonal\";\r\n\r\nexport default Orthogonal;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass SnailRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + SnailRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    let a = Math.round(columns / 2) - 1;\r\n    let b = Math.round(rows / 2) - 1;\r\n    let side = 1;\r\n    let move = -1;\r\n\r\n    while (side <= columns) {\r\n      move *= -1;\r\n      for (let i = 0; i<side && a >= 0 && a < columns; i++) {\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        a += move;\r\n      }\r\n      if(a < 0 || a >= columns) break;\r\n\r\n      for (let i = 0; i<side && b >= 0 && b < rows; i++) {\r\n        console.log(a, b);\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        b += move;\r\n      }\r\n      side++;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nSnailRight.className = \"SnailRight\";\r\n\r\nexport default SnailRight;\r\n","import React, { Component } from 'react';\r\nimport Placement from '../Placement';\r\nimport './Grid.css';\r\nimport 'rc-slider/assets/index.css';\r\nimport Canvas from '../../Canvas/Canvas';\r\nimport DragBox from '../../DragBox/DragBox';\r\nimport ContextMenuBox from '../../ContextMenuBox/ContextMenuBox';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\nimport grid_on from '../../../Icons/grid_on.svg';\r\nimport InBox from '../../InBox/InBox';\r\nimport Series from '../../Series/Series';\r\n\r\nimport LinearY from '../../Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from '../../Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from '../../Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from '../../Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from '../../Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from '../../Modes/GridMode/SnailRight/SnailRight';\r\n\r\nconst menu = [{\r\n  type: 'Modes',\r\n  elements: [\r\n    {type: 'DiagonalLeft'},\r\n    {type: 'DiagonalRight'},\r\n    {type: 'LinearX'},\r\n    {type: 'LinearY'},\r\n    {type: 'Orthogonal'},\r\n    {type: 'SnailRight'}\r\n  ]\r\n}];\r\n\r\nconst className = \"Grid\";\r\nconst unauthorized = [\"Placement\"];\r\nconst doBeforeAddChild = {\r\n  Figure: (child) => {\r\n    return InBox(Series, child);\r\n  }\r\n}\r\n\r\n/*Pencil*/\r\nclass Grid extends Placement {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return grid_on;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Grid.className;\r\n    this.doBeforeAddChild = doBeforeAddChild;\r\n    //const {columns, rows} = this.props;\r\n    this.suppMenu[this.suppMenu.length - 1].menu = menu;\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.columns = 8;\r\n    this.state.rows = 8;\r\n    this.state.mode = LinearX;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n    var column = sk.width/this.state.columns;\r\n  \tvar row = sk.height/this.state.rows;\r\n    var elem = this.next;\r\n    var currentMode = this.state.currentMode;\r\n\r\n  \tif(!elem) sk.stroke(this.state.color.getP5Color(sk));\r\n\r\n    if(currentMode) {\r\n      currentMode.mode(sk, {\r\n        columns: this.state.columns,\r\n        rows: this.state.rows,\r\n        lines: elem ? false : true,\r\n        callback: function() {\r\n          if(elem) {\r\n            sk.noStroke();\r\n            sk.push();\r\n              sk.translate(column / 2, row / 2);\r\n              sk.scale(column, row);\r\n              sk.strokeWeight(1/column);\r\n              elem.draw(sk);\r\n              sk.strokeWeight(1);\r\n            sk.pop();\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  renderBox() {\r\n    return(\r\n      <>\r\n        <SliderBox\r\n        min={1}\r\n        max={50}\r\n        defaultValue={this.state.columns}\r\n        marks={{1: 1, 50: 50}}\r\n        step={1}\r\n        onChange={(value) => {this.setState({columns: value, rows: value});}}\r\n        />\r\n        {this.renderMode()}\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Grid;\r\n","import React, { Component } from 'react';\r\nimport Box from \"../Box/Box\";\r\n\r\nexport default function InBox(Wrapper, ...Children) {\r\n\r\n\r\n  const authorizedChildren = Children.filter(\r\n    (Child) => window.isAuthorized(Child, Wrapper.unauthorized)\r\n  );\r\n\r\n  const cl = class extends Component {\r\n\r\n    static wrapper = Wrapper;\r\n    static children = authorizedChildren;\r\n\r\n    render() {\r\n\r\n      const boxChildren = authorizedChildren.map(\r\n        (Child) => {return {type: Child, id: Box.id};}\r\n      );\r\n\r\n      return(\r\n        <Wrapper {...this.props} ref={(el) => {\r\n          if(!el) return;\r\n          this.ref = el;\r\n          el.state.children = boxChildren;\r\n          this.props.saveState(el.state);\r\n          const child = this.props.parent.state.children.find(\r\n            (child) => child.id === this.props.id\r\n          );\r\n          child.type = Wrapper;\r\n          this.props.parent.forceUpdate();\r\n          window.updateWorkspace();\r\n          }}>\r\n        </Wrapper>\r\n      );\r\n    }\r\n  };\r\n\r\n  return cl;\r\n};\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './RangeBox.css';\r\n\r\nclass RangeBox extends Input {\r\n    render() {\r\n        let trackStyleArray = new Array(this.props.count);\r\n        trackStyleArray.fill({height: '8px', backgroundColor: 'black', borderRadius: 'unset' });\r\n        let handleStyleArray = new Array(this.props.count);\r\n        handleStyleArray.fill({marginTop: '-3px', borderColor: 'black' });\r\n        return(\r\n        <Range\r\n        {...this.props}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={trackStyleArray}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={handleStyleArray}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value);}}\r\n        onAfterChange={() => Workspace.forceUpdate()}\r\n        ref={el => {if(this.props.innerRef) this.props.innerRef(el);}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default RangeBox;\r\n","import React, { Component } from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport 'rc-slider/assets/index.css';\r\nimport './Markov.css';\r\nimport Workspace from '../Workspace/Workspace';\r\nimport RangeBox from '../Input/RangeBox/RangeBox';\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport next from '../../Icons/next.svg';\r\nimport unknown from '../../Icons/unknown.svg';\r\n\r\nfunction clamp_left(a, b) {\r\n   return a < b ? b : a;\r\n}\r\n\r\nfunction clamp_right(a, b) {\r\n   return a > b ? b : a;\r\n}\r\n\r\nfunction clamp(a, b, c) {\r\n  return clamp_left(clamp_right(a, c), b);\r\n}\r\n\r\nfunction checkLeft(userValue, i, handle) {\r\n  if (i < 0) return;\r\n  if (userValue <= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkLeft(userValue, --i, handle);\r\n  }\r\n}\r\n\r\nfunction checkRight(userValue, i, handle) {\r\n  if (i >= handle.length) return;\r\n  if (userValue >= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkRight(userValue, ++i, handle);\r\n  }\r\n}\r\n\r\nconst className = \"Markov\";\r\nconst unauthorized = [\"Placement\"];\r\n\r\n/*Pencil*/\r\nclass Markov extends BoxGroup {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Markov.className;\r\n    this.suppMenu = [];\r\n    this.elementsLength = this.state.children.length;\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n    this.idElement = [];\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.proba = [];\r\n  }\r\n\r\n  setChildren(children) {\r\n    super.setChildren(children);\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n  }\r\n\r\n  draw(sk) {\r\n    let length = this.state.children.length;\r\n    if(length === 0) return;\r\n    let element = this.elements[this.currentState];\r\n    if(length === 1) {\r\n      if(element) element.draw(sk);\r\n      return;\r\n    }\r\n    let proba = 0;\r\n    let rand = parseInt(Math.random() * (100));\r\n    let i;\r\n\r\n    for(i = 0; i < length && rand >= proba; ++i) {\r\n      proba = this.state.proba[this.currentState][i];\r\n    }\r\n\r\n    if(this.elements[i - 1]) this.elements[i - 1].draw(sk);\r\n    this.currentState = i - 1;\r\n  }\r\n\r\n  renderBox() {\r\n    const length = this.state.children.length;\r\n    let defaultValues = [];\r\n    let sliders;\r\n\r\n    for(let i = 1; i <= length - 1; ++i) {\r\n      if (i == length-1) defaultValues.push(Math.floor(100/length/10)*10*i+100%(length*10));\r\n      else defaultValues.push(Math.floor(100/length/10)*10*i);\r\n    }\r\n\r\n    if(length - 1 > 0) {\r\n      let propsRange = {\r\n        min: 0,\r\n        max: 100,\r\n        defaultValue: defaultValues,\r\n        marks: {0:0, 100:100},\r\n        step: 5,\r\n        count: length - 1,\r\n        pushable: 0\r\n      };\r\n\r\n      sliders = this.state.children.map((child, index) => {\r\n        let inputs = [], RangeIcon;\r\n\r\n        RangeIcon = <span className=\"Markov__RangeIcon\">\r\n          <SVG src={child.type.icon}/>\r\n          <SVG src={next}/>\r\n          <SVG src={unknown}/>\r\n        </span>;\r\n\r\n          if(this.elementsLength !== length) {\r\n            this.state.proba[index] = [...defaultValues]; //remove reference\r\n            this.idElement[index] = shortid.generate();\r\n            propsRange.innerRef = (el) => {if(el) this.state.proba[index] = el.state.bounds};\r\n            propsRange.innerRef.bind(this);\r\n          }\r\n          propsRange.key = this.idElement[index];\r\n          propsRange.onChange = (value) => {this.state.proba[index] = value;}\r\n\r\n          for (let i = 0; i < length; i++) {\r\n            let propsInput = {\r\n              type: \"number\",\r\n              key: this.idElement[index]+i,\r\n              min: 0,\r\n              max: 100,\r\n              step: 5,\r\n            };\r\n            if (i == 0) {\r\n              propsInput.value = this.state.proba[index][i];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value, i, proba[index]);\r\n                checkRight(value, i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else if (i == length-1) {\r\n              propsInput.value = 100-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(100-value, i-1, proba[index]);\r\n                checkRight(100-value, i-1, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else {\r\n              propsInput.max = 100 - this.state.proba[index][i-1];\r\n              propsInput.value = this.state.proba[index][i]-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value+this.state.proba[index][i-1], i, proba[index]);\r\n                checkRight(value+this.state.proba[index][i-1], i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            }\r\n            propsInput.onKeyDown = propsInput.onChange;\r\n            inputs.push(<div className=\"Markov__InputContainer\">\r\n              <span className=\"Markov__InputIcon\">\r\n                <SVG src={this.state.children[i].type.icon}/>\r\n              </span>\r\n              <input className=\"Markov__Input\" {...propsInput}/>\r\n            </div>);\r\n          }\r\n\r\n          return (\r\n\r\n              <div className=\"Markov__Containers\">\r\n                <div className=\"Markov__RangeContainer\">\r\n                  {RangeIcon}\r\n                  <RangeBox {...propsRange}/>\r\n                </div>\r\n                <div className=\"Markov__InputsContainer\">\r\n                  {inputs}\r\n                </div>\r\n              </div>\r\n            );\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.elementsLength = length;\r\n\r\n    return <div className=\"Markov__Parameters\">{sliders}</div>;\r\n  }\r\n\r\n}\r\n\r\nexport default Markov;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Translate.css';\r\nimport translate from '../../../Icons/translate.svg';\r\n\r\n/*Attribute*/\r\nclass Translate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Translate.className;\r\n    this.destX = 10;\r\n    this.destY = 10;\r\n  }\r\n}\r\n\r\nTranslate.className = \"Translate\";\r\nTranslate.icon = translate;\r\n\r\n\r\nexport default Translate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Rotate.css';\r\nimport rotate from '../../../Icons/rotate.svg';\r\n\r\n/*Attribute*/\r\nclass Rotate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rotate.className;\r\n    this.rotate = 20;\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.rotate(sk.radians(this.rotate));\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }*/\r\n}\r\n\r\nRotate.className = \"Rotate\";\r\nRotate.icon = rotate;\r\n\r\nexport default Rotate;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Void.css';\r\nimport voidIcon from '../../Icons/void.svg';\r\n\r\nconst className = \"Void\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Void extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return voidIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Void.className;\r\n    this.suppMenu = [];\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\nexport default Void;\r\n","import Color from './Color';\r\n\r\nclass Red extends Color {\r\n\r\n  constructor() {\r\n    super(229, 38, 30, 255);\r\n  }\r\n\r\n}\r\n\r\nRed.className = \"Red\";\r\n\r\nexport default Red;\r\n","import Color from './Color';\r\n\r\nclass Orange extends Color {\r\n\r\n  constructor() {\r\n    super(235, 117, 50, 255);\r\n  }\r\n\r\n}\r\n\r\nOrange.className = \"Orange\";\r\n\r\nexport default Orange;\r\n","import Color from './Color';\r\n\r\nclass Yellow extends Color {\r\n\r\n  constructor() {\r\n    super(247, 208, 56, 255);\r\n  }\r\n\r\n}\r\n\r\nYellow.className = \"Yellow\";\r\n\r\nexport default Yellow;\r\n","import Color from './Color';\r\n\r\nclass Green extends Color {\r\n\r\n  constructor() {\r\n    super(163, 224, 71, 255);\r\n  }\r\n\r\n}\r\n\r\nGreen.className = \"Green\";\r\n\r\nexport default Green;\r\n","import Color from './Color';\r\n\r\nclass LightBlue extends Color {\r\n\r\n  constructor() {\r\n    super(52, 185, 230, 255);\r\n  }\r\n\r\n}\r\n\r\nLightBlue.className = \"LightBlue\";\r\n\r\nexport default LightBlue;\r\n","import Color from './Color';\r\n\r\nclass Blue extends Color {\r\n\r\n  constructor() {\r\n    super(67, 85, 219, 255);\r\n  }\r\n\r\n}\r\n\r\nBlue.className = \"Blue\";\r\n\r\nexport default Blue;\r\n","import Color from './Color';\r\n\r\nclass White extends Color {\r\n\r\n  constructor() {\r\n    super(255, 255, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nWhite.className = \"White\";\r\n\r\nexport default White;\r\n","import Figure from './Figures/Figure';\r\nimport Rectangle from './Figures/Rectangle/Rectangle';\r\nimport Triangle from './Figures/Triangle/Triangle';\r\nimport Ellipse from './Figures/Ellipse/Ellipse';\r\nimport HHatching from './Figures/Hatching/HHatching/HHatching';\r\nimport VHatching from './Figures/Hatching/VHatching/VHatching';\r\nimport LOHatching from './Figures/Hatching/LOHatching/LOHatching';\r\nimport ROHatching from './Figures/Hatching/ROHatching/ROHatching';\r\nimport Placement from './Placement/Placement';\r\nimport Grid from './Placement/Grid/Grid';\r\nimport Markov from './Markov/Markov';\r\nimport Transform from './Transforms/Transform';\r\nimport Translate from './Transforms/Translate/Translate';\r\nimport Scale from './Transforms/Scale/Scale';\r\nimport Rotate from './Transforms/Rotate/Rotate';\r\nimport Color from './Colors/Color';\r\nimport Void from './Void/Void';\r\nimport Red from './Colors/Red';\r\nimport Orange from './Colors/Orange';\r\nimport Yellow from './Colors/Yellow';\r\nimport Green from './Colors/Green';\r\nimport LightBlue from './Colors/LightBlue';\r\nimport Blue from './Colors/Blue';\r\nimport Black from './Colors/Black';\r\nimport White from './Colors/White';\r\nimport Series from './Series/Series';\r\n\r\n//GridModes\r\nimport LinearY from './Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from './Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from './Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from './Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from './Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from './Modes/GridMode/SnailRight/SnailRight';\r\n\r\nexport function getClassFromName(name) {\r\n  switch(name) {\r\n    case('Figure'):\r\n      return Figure;\r\n    case('Rectangle'):\r\n      return Rectangle;\r\n    case('Triangle'):\r\n      return Triangle;\r\n    case('Ellipse'):\r\n      return Ellipse;\r\n    case('HHatching'):\r\n      return HHatching;\r\n    case('VHatching'):\r\n      return VHatching;\r\n    case('LOHatching'):\r\n      return LOHatching;\r\n    case('ROHatching'):\r\n      return ROHatching;\r\n    case('Placement'):\r\n      return Placement;\r\n    case('Grid'):\r\n      return Grid;\r\n    case('Markov'):\r\n      return Markov;\r\n    case('Transform'):\r\n      return Transform;\r\n    case('Color'):\r\n      return Color;\r\n    case('Red'):\r\n      return Red;\r\n    case('Orange'):\r\n      return Orange;\r\n    case('Yellow'):\r\n      return Yellow;\r\n    case('Green'):\r\n      return Green;\r\n    case('LightBlue'):\r\n      return LightBlue;\r\n    case('Blue'):\r\n      return Blue;\r\n    case('Black'):\r\n      return Black;\r\n    case('White'):\r\n      return White;\r\n    case('Translate'):\r\n      return Translate;\r\n    case('Scale'):\r\n      return Scale;\r\n    case('Rotate'):\r\n      return Rotate;\r\n    case('Void'):\r\n      return Void;\r\n    case('LinearX'):\r\n      return LinearX;\r\n    case('LinearY'):\r\n      return LinearY;\r\n    case('DiagonalLeft'):\r\n      return DiagonalLeft;\r\n    case('DiagonalRight'):\r\n      return DiagonalRight;\r\n    case('Orthogonal'):\r\n      return Orthogonal;\r\n    case('SnailRight'):\r\n      return SnailRight;\r\n    case('Series'):\r\n      return Series;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './App.css';\r\n//import Icons\r\nimport SVG from 'react-svg'\r\nimport icon_code from '../../Icons/code.svg';\r\nimport icon_info from '../../Icons/info.svg';\r\n// import Components\r\nimport Workspace from '../../Components/Workspace/Workspace';\r\nimport Save from '../../Components/Save/Save';\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n// import Boxes\r\nimport {getClassFromName} from '../../Components/Index';\r\n\r\nwindow.getClassFromName = getClassFromName;\r\n\r\nwindow.updateWorkspace = Workspace.forceUpdate;\r\n\r\nwindow.addClassToElement = function(name, target) {\r\n  let cl = getClassFromName(name);\r\n  target.addChild(cl);\r\n  if(!(target instanceof Workspace)) {\r\n    Workspace.forceUpdate();\r\n  }\r\n};\r\n\r\nwindow.getIconClassFromName = function(name) {\r\n  let cl = getClassFromName(name);\r\n  if(cl) {\r\n    return cl.icon;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nwindow.isAuthorized = function(type, unauthorized) {\r\n  let r = true;\r\n  if(!type) return false;\r\n\r\n  if(unauthorized instanceof Array) {\r\n    let obj;\r\n    if(typeof type === \"string\") {\r\n      let cl = getClassFromName(type);\r\n      obj = new cl();\r\n    } else {\r\n      obj = new type();\r\n    }\r\n\r\n    for(let i = 0; i < unauthorized.length && r; ++i) {\r\n      let unauthorizedClass = getClassFromName(unauthorized[i]);\r\n      if(unauthorizedClass === null) {\r\n        console.error(unauthorized[i] + \" : Invalid unauthorized Class\");\r\n        continue;\r\n      }\r\n      r = r && !(obj instanceof unauthorizedClass);\r\n    }\r\n  } else {\r\n    return false;\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\nlet toggle = false;\r\n\r\nclass App extends Component {\r\n  state = {\r\n  }\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  aboutClick() {\r\n    let aboutDisplay = 'none';\r\n    if(!toggle) {\r\n      toggle = !toggle;\r\n      aboutDisplay = 'flex';\r\n     } else {\r\n      toggle = !toggle;\r\n      aboutDisplay = 'none';\r\n     };\r\n    ReactDOM.findDOMNode(this.refs[\"aboutContainer\"]).style.display = aboutDisplay ;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header border-bottom\">\r\n          <div className=\"App-logo\">Paperwork</div>\r\n          <div className=\"about\" onClick={this.aboutClick.bind(this)}>\r\n            <SVG src={icon_info}/>\r\n          </div>\r\n        </header>\r\n        <main>\r\n          <div className=\"leftSide\">\r\n              <div className=\"aboutContainer\" ref=\"aboutContainer\">\r\n                <span className=\"aboutTitle\">What is Paperwork?<br/><br/><br/><br/></span>\r\n                <span>\r\n                Paperwork is an online software for research in art and in the field of computer and visual research. It is developped in the perspective of computer art practice in the context of art schools, colleges, high schools and so on.<br/><br/>\r\n                The application helps producing drawings in the philosophy of generative processes. It is concerned with patterns, polygons, repertories and grammars. Moreover, the interface enables the learning and the editing of algorithms and therefore the construction of simple computational processes. It also offers to export formats svg format that makes it compatible with the traditionnal vector work area as well as digital tooling and 3D environements (pen plotter, laser cutting, ...).<br/><br/>\r\n                Paperwork's first algorithm will be Markov Chain, an algorithm that was used in early computer art and now heavily used in our digital environment.<br/><br/>\r\n                Paperwork is based on the previsous Experiment Generic Images 2018.<br/><br/>\r\n                Paperwork is a process developped by a group of people : ingineers, artists, students, researchers, ... \r\n                </span>\r\n              </div>\r\n              <Workspace>\r\n\r\n              </Workspace>\r\n          </div>\r\n            <div className=\"rightSide border-left\">\r\n              <div className=\"editionMenu border-bottom\">\r\n                <div className=\"button displayCode border-right\">\r\n                  <SVG src={icon_code}/>\r\n                </div>\r\n                <Save/>\r\n              </div>\r\n                <Canvas/>\r\n            </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Containers/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { configure } from 'enzyme';\r\nimport Adapter from 'enzyme-adapter-react-16';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}