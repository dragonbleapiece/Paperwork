{"version":3,"sources":["Icons/save_alt.svg","Icons/code.svg","Icons/cancel.svg","Icons/arrow_right.svg","Icons/square.svg","Icons/triangle.svg","Icons/ellipse.svg","Icons/grid_on.svg","Icons/translate.svg","Icons/rotate.svg","Components/Canvas/Canvas.js","Constants.js","Components/DragBox/DragBox.js","Components/ContextMenuBox/ContextMenuBox.js","Components/Box/Box.js","Components/DropBox/DropBox.js","Components/BoxGroup/BoxGroup.js","Components/Workspace/Workspace.js","Components/Figures/Figure.js","Components/Figures/Rectangle/Rectangle.js","Components/Figures/Triangle/Triangle.js","Components/Figures/Ellipse/Ellipse.js","Components/Placement/Placement.js","Components/Input/Input.js","Components/Input/SliderBox/SliderBox.js","Components/Placement/Grid/Grid.js","Components/Input/RangeBox/RangeBox.js","Components/Markov/Markov.js","Components/Transforms/Transform.js","Components/Transforms/Translate/Translate.js","Components/Transforms/Rotate/Rotate.js","Components/Transforms/Colors/Color.js","Components/Transforms/Colors/Red.js","Components/Transforms/Colors/Blue.js","Components/Transforms/Colors/Green.js","Components/Index.js","Containers/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","p5","require","Canvas","props","_this","Object","classCallCheck","this","undefined","_instance","possibleConstructorReturn","getPrototypeOf","call","state","function","width","height","assertThisInitialized","filename","extension","_P5","savePaper","ext","arguments","length","canvasWidth","window","innerWidth","canvasHeight","innerHeight","CanvasSize","setState","self","sk","setup","bind","draw","windowResized","f","CalcCanvasSize","resizeCanvas","saveCanvas","_this$state","createCanvas","noLoop","initP5","react_default","a","createElement","className","id","Component","ItemTypes","boxSource","beginDrag","monitor","component","findDOMNode","getBoundingClientRect","getClientOffset","endDrag","item","getItem","result","getDropResult","moved","setPosition","DragBox","d","coord","x","Number","isNaN","parseInt","el","style","left","y","top","console","log","position","setStyle","onClose","Workspace","forceUpdate","_this$props","connectDragSource","isDragging","connectDragPreview","onClick","react_svg","src","cancel","icon","name","children","DragSource","connect","dragPreview","dragSource","menu","type","elements","ContextMenuBox","event","data","addClassToElement","_this2","unauthorized","indexOf","es6","holdToDisplay","menuItems","map","index","getIconClassFromName","key","title","Fragment","arrow_right","subItem","subIcon","handleClick","Box","next","nextType","_id","child","obj","isAuthorized","parent","filter","setChildren","elmnt","constructor","_this3","push","ref","Components_DragBox_DragBox","removeFromParent","renderBox","Components_ContextMenuBox_ContextMenuBox","getChildren","boxTarget","canDrop","hover","drop","didDrop","clientOffset","componentRect","right","bottom","DropBox","isOver","connectDropTarget","DropTarget","dropTarget","isOverCurrent","shallow","itemType","getItemType","BoxGroup","get","prototype","i","React","Children","Components_DropBox_DropBox","elmnts","setElements","addElement","box","addChild","canvas","firstBox","sendDraw","clear","DragDropContext","HTML5Backend","Figure","translate","drawFigure","pop","Rectangle","rect","square","Triangle","triangle","Ellipse","ellipse","Placement","Input","SliderBox","es","min","max","defaultValue","marks","step","steps","padding","trackStyle","backgroundColor","borderRadius","railStyle","handleStyle","marginTop","borderColor","dotStyle","onChange","value","Grid","columns","rows","column","row","elem","background","stroke","line","j","noStroke","scale","Input_SliderBox_SliderBox","1","20","grid_on","RangeBox","trackStyleArray","Array","count","fill","handleStyleArray","pushable","Markov","proba","elementsLength","currentState","Math","random","idElement","element","rand","sliders","defaultValues","propsRange","0","100","shortid","generate","Input_RangeBox_RangeBox","Transform","Translate","destX","destY","Rotate","rotate","radians","Color","r","g","b","c","color","Red","Blue","Green","getClassFromName","target","cl","unauthorizedClass","error","App","DownloadName","DownloadFormat","downloadImage","Components_Workspace_Workspace","icon_save_alt","defaultChecked","checked","htmlFor","icon_code","Components_Canvas_Canvas","Boolean","location","hostname","match","configure","adapter","Adapter","ReactDOM","render","Containers_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.924338be.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/save_alt.3ccde972.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.74f0e940.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.4afab8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.79443cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/square.5b5b5ce7.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangle.3963bd74.svg\";","module.exports = __webpack_public_path__ + \"static/media/ellipse.41ebe5ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/grid_on.8ace643b.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.aaf3d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.5d1fc53d.svg\";","import React, { Component } from 'react';\r\nimport './Canvas.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nvar p5 = require('p5');\r\nrequire('p5.js-svg')(p5);\r\n\r\nclass Canvas extends Component {\r\n\r\n  /*Singleton*/\r\n  static _instance;\r\n  static _P5;\r\n  static savePaper(filename, extension) {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.savePaper(filename, extension);\r\n    }\r\n  }\r\n\r\n\r\n  state = {\r\n    function: undefined,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    if(Canvas._instance != undefined) {\r\n      return Canvas._instance;\r\n    }\r\n    super(props);\r\n\r\n    Canvas._instance = this;\r\n  }\r\n\r\n  setfilename(filename, ext = undefined) {\r\n    this.filename = filename;\r\n    if(ext !== undefined) this.extension = ext;\r\n  }\r\n\r\n  CalcCanvasSize() {\r\n    let canvasWidth = window.innerWidth*0.5-60;\r\n    let canvasHeight = window.innerHeight-180;\r\n    let CanvasSize = (canvasWidth < canvasHeight) ? canvasWidth : canvasHeight;\r\n    this.setState({width: CanvasSize, height: CanvasSize});\r\n  }\r\n\r\n  initP5() {\r\n    let self = this;\r\n    let s = (sk) => {\r\n      sk.setup = self.setup.bind(self, sk);\r\n      sk.draw = self.draw.bind(self, sk);\r\n      sk.windowResized = self.windowResized.bind(self, sk);\r\n      sk.savePaper = self.savePaper.bind(self, sk);\r\n\r\n    }\r\n\r\n    Canvas._P5 = new p5(s, 'renderer');\r\n  }\r\n\r\n  sendDraw(f) {\r\n    this.setState({\r\n      function: f\r\n    });\r\n  }\r\n\r\n  resetDraw() {\r\n    this.setState({\r\n      function: undefined\r\n    });\r\n  }\r\n\r\n  windowResized(sk) {\r\n    this.CalcCanvasSize();\r\n    sk.resizeCanvas(this.state.width, this.state.height);\r\n  }\r\n\r\n  savePaper(sk, filename, extension) {\r\n    if(filename !== undefined || extension !== undefined) {\r\n      sk.saveCanvas(filename, extension);\r\n    }\r\n  }\r\n\r\n  setup(sk) {\r\n    const {width, height} = this.state;\r\n    sk.createCanvas(width, height);\r\n    sk.noLoop();\r\n  }\r\n\r\n  draw(sk) {\r\n    let f = this.state.function;\r\n    if(f !== undefined) {\r\n      f(sk);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.CalcCanvasSize();\r\n    this.initP5();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    Canvas._P5.draw();\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvasContainer\">\r\n        <div id=\"renderer\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCanvas._instance = undefined;\r\nCanvas._P5 = undefined;\r\n\r\n/*PropTypes*/\r\nCanvas.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  cells: PropTypes.number\r\n}\r\n\r\nexport default Canvas;\r\n","export const ItemTypes = {\r\n  BOX: 'box'\r\n};\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport {DragSource} from 'react-dnd';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport cancel from '../../Icons/cancel.svg';\r\n\r\n//Functions for dragging the box\r\nconst boxSource = {\r\n  beginDrag(props, monitor, component) {\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n    const clientOffset = monitor.getClientOffset();\r\n    let item = clientOffset;\r\n    return item;\r\n  },\r\n  endDrag(props, monitor, component) {\r\n    const item = monitor.getItem();\r\n    const result = monitor.getDropResult();\r\n    if(result !== null && result.moved) {\r\n      component.setPosition(item);\r\n    }\r\n    return {};\r\n  }\r\n};\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\n\r\nclass DragBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  setPosition(d) {\r\n    if(!d) return;\r\n    const coord = {\r\n      x: !Number.isNaN(parseInt(this.props.el.state.style.left)) ? parseInt(this.props.el.state.style.left) : 0,\r\n      y: !Number.isNaN(parseInt(this.props.el.state.style.top)) ? parseInt(this.props.el.state.style.top) : 0\r\n    };\r\n\r\n    console.log(coord);\r\n    const style = {\r\n      \"position\": \"absolute\",\r\n      \"top\": d.y + coord.y + \"px\",\r\n      \"left\": d.x + coord.x + \"px\"\r\n    };\r\n    this.props.el.setStyle(style);\r\n  }\r\n\r\n  onClose() {\r\n      if(this.props.onClose !== undefined) {\r\n        this.props.onClose();\r\n      }\r\n      Workspace.forceUpdate();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isDragging, connectDragSource, connectDragPreview } = this.props;\r\n\r\n\r\n\r\n    return connectDragPreview(\r\n      <div className=\"Box__wrapper\">\r\n        <span className=\"Box__titleClose\" onClick={this.onClose.bind(this)}>\r\n            <SVG src={cancel}/>\r\n        </span>\r\n        {connectDragSource(<span className=\"Box__title\">\r\n          {this.props.icon && <SVG className=\"Box__titleIcon\" src={this.props.icon}/>}\r\n          <span className=\"Box__titleText\">{this.props.name}</span>\r\n        </span>)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragSource(ItemTypes.BOX, boxSource, collect)(DragBox);\r\n","import React, { Component } from 'react';\r\nimport './ContextMenuBox.css';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport arrow_right from '../../Icons/arrow_right.svg';\r\n\r\nconst menu = [\r\n  {\r\n    type: 'Placement',\r\n    elements: [\r\n      {type: 'Grid'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Elements',\r\n    elements: [\r\n      {type: 'Rectangle'},\r\n      {type: 'Triangle'},\r\n      {type: 'Ellipse'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Color',\r\n    elements: [\r\n      {type: 'Red'},\r\n      {type: 'Blue'},\r\n      {type: 'Green'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Markov'\r\n  },\r\n  {\r\n    type: 'Transform',\r\n    elements: [\r\n      {type: 'Translate'},\r\n      {type: 'Rotate'}\r\n    ]\r\n  }\r\n];\r\n\r\nclass ContextMenuBox extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  handleClick(event, data) {\r\n    if(data.type !== undefined) {\r\n      console.log(data.el);\r\n      window.addClassToElement(data.type, data.el);\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    if(this.props.el.unauthorized.indexOf(\"*\") !== -1) {\r\n      return (\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n      );\r\n    }\r\n\r\n    let menuItems = menu.map(\r\n      (item, index) => {\r\n        if(this.props.el.unauthorized.indexOf(item.type) === -1) {\r\n          let icon = window.getIconClassFromName(item.type);\r\n          if (!item.elements) {\r\n            return (<MenuItem onClick={this.handleClick} data={{ type: item.type, el: this.props.el }} key={index}>\r\n              {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n              <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n            </MenuItem>);\r\n          } else {\r\n            return (<SubMenu key={index} title={\r\n              <>\r\n                <span  className=\"react-contextmenu-itemLabel\">\r\n                {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n                <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n                </span>\r\n                <span className=\"react-contextmenu-itemIcon\"><SVG src={arrow_right}/></span>\r\n              </>\r\n            }>\r\n                {item.elements.map(\r\n                  (subItem, index) => {\r\n                    let subIcon = window.getIconClassFromName(subItem.type);\r\n                    return (\r\n                      <MenuItem onClick={this.handleClick} data={{ type: subItem.type, el: this.props.el, icon: subItem.icon }} key={index}>\r\n                        {subIcon && <span className=\"react-contextmenu-itemIcon\"><SVG src={subIcon}/></span>}\r\n                        <span className=\"react-contextmenu-itemText\">{subItem.type}</span>\r\n                      </MenuItem>\r\n                    );\r\n                  }\r\n\r\n                )}\r\n            </SubMenu>);\r\n          }\r\n        }\r\n      }\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n        <ContextMenu id={this.props.id}>\r\n            {menuItems}\r\n        </ContextMenu>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContextMenuBox;\r\n","import React, { Component } from 'react';\r\nimport './Box.css';\r\nimport p5 from 'p5';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n/*Pencil*/\r\nclass Box extends Component {\r\n\r\n  static get id() {\r\n    return Box._id++;\r\n  }\r\n\r\n  state = {\r\n    children: [],\r\n    style: {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Box.className;\r\n    this.name = Box.className;\r\n    this.next = undefined;\r\n    this.nextType = undefined;\r\n    this.unauthorized = [];\r\n  }\r\n\r\n  addChild(child) {\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(window.isAuthorized(child, this.unauthorized) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [{type:child, id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.setState({\r\n      children: children\r\n    })\r\n  }\r\n\r\n  removeFromParent() {\r\n    let children = this.props.parent.state.children;\r\n    children = children.filter(el => el.id !== this.props.id);\r\n    this.props.parent.setChildren(children);\r\n  }\r\n\r\n  addNext(elmnt) {\r\n    if(elmnt !== undefined) {\r\n      if(elmnt instanceof Box) {\r\n        this.next = elmnt;\r\n        this.nextType = elmnt.constructor.name;\r\n      }\r\n    }\r\n  }\r\n\r\n  setStyle(style) {\r\n    this.setState({\r\n      style: style\r\n    });\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n\r\n  getChildren() {\r\n    this.next = undefined;\r\n    let children = [];\r\n\r\n    if(this.state.children.length > 0) {\r\n      let child = this.state.children[0];\r\n      children.push(<child.type key={child.id} parent={this} id={child.id} ref={el => {this.next = el}}/>);\r\n    }\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuTrigger>\r\n          <DragBox icon={this.constructor.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} el={this}>\r\n            <span className=\"Box__content\">\r\n              {this.renderBox()}\r\n\r\n              {this.unauthorized.indexOf(\"*\") === -1 && <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.unauthorized} el={this}>\r\n                <div className=\"Box__container\">\r\n                  {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                  {this.getChildren()}\r\n                </div>\r\n              </ContextMenuBox>}\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuTrigger>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBox._id = 0; //or use shortid ?\r\nBox.className = \"Box\";\r\nBox.icon = undefined;\r\n\r\nexport default Box;\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport { DropTarget, DragSource } from 'react-dnd';\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDropTarget: connect.dropTarget(),\r\n    // You can ask the monitor about the current drag state:\r\n    isOver: monitor.isOver(),\r\n    isOverCurrent: monitor.isOver({ shallow: true }),\r\n    canDrop: monitor.canDrop(),\r\n    itemType: monitor.getItemType()\r\n  };\r\n}\r\n\r\n//Functions for dropping the box\r\nconst boxTarget = {\r\n  canDrop(props, monitor) {\r\n    // You can disallow drop based on props or item\r\n    const item = monitor.getItem();\r\n    //return canMakeChessMove(item.fromPosition, props.position);\r\n    return true;\r\n  },\r\n\r\n  hover(props, monitor, component) {\r\n    // This is fired very often and lets you perform side effects\r\n    // in response to the hover. You can't handle enter and leave\r\n    // hereâ€”if you need them, put monitor.isOver() into collect() so you\r\n    // can just use componentDidUpdate() to handle enter/leave.\r\n\r\n    return;\r\n\r\n    // You can access the coordinates if you need them\r\n\r\n    // You can check whether we're over a nested drop target\r\n    const isJustOverThisOne = monitor.isOver({ shallow: true });\r\n\r\n    // You will receive hover() even for items for which canDrop() is false\r\n    const canDrop = monitor.canDrop();\r\n  },\r\n\r\n  drop(props, monitor, component) {\r\n    if (monitor.didDrop()) {\r\n      // If you want, you can check whether some nested\r\n      // target already handled drop\r\n      return;\r\n    }\r\n\r\n    // Obtain the dragged item\r\n    let item = monitor.getItem();\r\n\r\n    // You can do something with it\r\n    const clientOffset = monitor.getClientOffset();\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    if(clientOffset.x > componentRect.right\r\n      || clientOffset.y > componentRect.bottom\r\n      || clientOffset.x < componentRect.left\r\n      || clientOffset.y < componentRect.top) {\r\n      return;\r\n    }\r\n\r\n    // You give to the currently moving item the new positions\r\n    item.x = clientOffset.x - item.x;\r\n    item.y = clientOffset.y - item.y;\r\n\r\n\r\n    // You can also do nothing and return a drop result,\r\n    // which will be available as monitor.getDropResult()\r\n    // in the drag source's endDrag() method\r\n    return { moved: true };\r\n  }\r\n};\r\n\r\n\r\nclass DropBox extends Component {\r\n\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isOver, canDrop, connectDropTarget } = this.props;\r\n    return connectDropTarget(\r\n      <div className={this.constructor.className}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropBox.className = \"DropBox\";\r\n\r\nexport default DropTarget(ItemTypes.BOX, boxTarget, collect)(DropBox);\r\n","import React, { Component } from 'react';\r\nimport './BoxGroup.css';\r\nimport Box from '../Box/Box';\r\nimport {shallow, instance} from 'enzyme';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n\r\n/*Pencil*/\r\nclass BoxGroup extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = BoxGroup.className;\r\n    this.elements = [];\r\n  }\r\n\r\n  addChild(child) {\r\n\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(this.unauthorized.indexOf(child.name) === -1 && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push({type: child, id: Box.id});\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.elements = [];\r\n    super.setChildren(children);\r\n  }\r\n\r\n  draw(sk) {\r\n    for(let i = 0; i < this.elements.length; ++i) {\r\n       let element = this.elements[i];\r\n       element.draw(sk);\r\n    }\r\n  }\r\n\r\n  initElements(instance = Box, callback = function() {}) {\r\n\r\n    let elements = [];\r\n\r\n    const children = React.Children.map(this.props.children,\r\n       (child, index) => {\r\n              elements.push(child);\r\n              //box.parent = callback;\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.initElements();\r\n  }\r\n\r\n  getChildren() {\r\n    this.elements = [];\r\n    let children = this.state.children.map((child, index) =>\r\n      <child.type key={child.id} id={child.id} parent={this} ref={el => this.elements[index] = el}/>\r\n    );\r\n\r\n\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n          <ContextMenuTrigger>\r\n            <DragBox icon={this.constructor.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} className={this.className} el={this}>\r\n              <span className=\"Box__content\">\r\n                {this.renderBox()}\r\n                <DropBox>\r\n                  {this.unauthorized.indexOf(\"*\") === -1 && <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.unauthorized} el={this}>\r\n                    <div className=\"Box__container\">\r\n                      {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                      {this.getChildren()}\r\n                    </div>\r\n                  </ContextMenuBox>}\r\n                </DropBox>\r\n              </span>\r\n            </DragBox>\r\n          </ContextMenuTrigger>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBoxGroup.className = \"BoxGroup\";\r\nBoxGroup.icon = undefined;\r\n\r\nexport default BoxGroup;\r\n","import React, { Component } from 'react';\r\nimport './Workspace.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport Box from '../Box/Box';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport {shallow, instance} from 'enzyme';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport ItemTypes from '../../Constants.js';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\n\r\nclass Workspace extends BoxGroup {\r\n\r\n  static _instance;\r\n  static setElements(elmnts) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.setElements(elmnts);\r\n    }\r\n  }\r\n\r\n  static addElement(elmnt) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addElement(elmnt);\r\n    }\r\n  }\r\n\r\n  static addChild(box) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addChild(box);\r\n    }\r\n  }\r\n\r\n  static forceUpdate() {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.forceUpdate();\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    if(Workspace._instance !== undefined) {\r\n      return Workspace._instance;\r\n    }\r\n    super(props);\r\n    this.className = this.constructor.className;\r\n    this.state.children = [];\r\n    this.elements = []; //no this.state.elements\r\n    this.unauthorized = [\"Markov\"];\r\n    Workspace._instance = this;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    let firstBox = this.elements[0];\r\n    if(firstBox) {\r\n      canvas.sendDraw(firstBox.draw.bind(firstBox));\r\n    } else {\r\n      Canvas._P5.clear();\r\n    }\r\n  }\r\n\r\n  //dead code\r\n  /*componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    let next = undefined;\r\n    let children = this.state.elements.reverse();\r\n    let instance = undefined;\r\n\r\n    if(children.length > 0) {\r\n      for(let i = 0; i < children.length; ++i) {\r\n        let child = children[i];\r\n        if(child === undefined) continue;\r\n        if(child instanceof Box) {\r\n          child.addNext(next);\r\n          next = child;\r\n        }\r\n        else if(shallow(child).instance() instanceof Box) {\r\n          instance = shallow(child).instance();\r\n          instance.addNext(next);\r\n          next = instance;\r\n        }\r\n      }\r\n\r\n      if(instance !== undefined) {\r\n        canvas.sendDraw(instance.draw.bind(instance));\r\n      } else {\r\n        canvas.sendDraw(children[children.length - 1].draw.bind(children[children.length - 1]));\r\n      }\r\n    }\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className}>\r\n        <ContextMenuBox id={this.constructor.className} unauthorized={this.unauthorized} el={this}>\r\n          <DropBox>\r\n            {!this.state.children.length && <span className=\"Workspace__placeholder\">Right click here</span>}\r\n            {this.getChildren()}\r\n          </DropBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nWorkspace.className = \"Workspace\";\r\nWorkspace._instance = undefined;\r\n\r\nexport default DragDropContext(HTML5Backend)(Workspace);\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Figure.css';\r\n\r\n/*Pencil*/\r\nclass Figure extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Figure.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 0;\r\n    this.height = 0;\r\n    this.unauthorized = [\"*\"];\r\n  }\r\n\r\n  drawFigure(sk) {\r\n\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.translate(-this.width / 2, -this.height / 2);\r\n      this.drawFigure(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nFigure.className = \"Figure\";\r\nFigure.icon = undefined;\r\n\r\nexport default Figure;\r\n","import React, { Component } from 'react';\r\nimport './Rectangle.css';\r\nimport Figure from '../Figure';\r\nimport square from '../../../Icons/square.svg';\r\n\r\n/*Pencil*/\r\nclass Rectangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rectangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.rect(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nRectangle.className = \"Rectangle\";\r\nRectangle.icon = square;\r\n\r\nexport default Rectangle;\r\n","import React, { Component } from 'react';\r\nimport './Triangle.css';\r\nimport Figure from '../Figure';\r\nimport triangle from '../../../Icons/triangle.svg';\r\n\r\n/*Pencil*/\r\nclass Triangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Triangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.triangle(this.x, this.y + this.height, this.x + this.width, this.y + this.height, (this.x + this.width) / 2, this.y);\r\n  }\r\n}\r\n\r\nTriangle.className = \"Triangle\";\r\nTriangle.icon = triangle;\r\n\r\nexport default Triangle;\r\n","import React, { Component } from 'react';\r\nimport './Ellipse.css';\r\nimport Figure from '../Figure';\r\nimport ellipse from '../../../Icons/ellipse.svg';\r\n\r\n/*Pencil*/\r\nclass Ellipse extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Ellipse.className;\r\n    this.width = 1;\r\n    this.height = 1;\r\n    this.x = this.width / 2;\r\n    this.y = this.height / 2;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.ellipse(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nEllipse.className = \"Ellipse\";\r\nEllipse.icon = ellipse;\r\n\r\nexport default Ellipse;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Placement.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Placement extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Placement.className;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nPlacement.className = \"Placement\";\r\nPlacement.icon = undefined;\r\n\r\nexport default Placement;\r\n","import React, { Component } from 'react';\r\nimport './Input.css';\r\n\r\nclass Input extends Component {\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './SliderBox.css';\r\n\r\nclass SliderBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Slider\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={{marginTop: '-3px', borderColor: 'black' }}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value); Workspace.forceUpdate();}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SliderBox;\r\n","import React, { Component } from 'react';\r\nimport Placement from '../Placement';\r\nimport './Grid.css';\r\nimport 'rc-slider/assets/index.css';\r\nimport Canvas from '../../Canvas/Canvas';\r\nimport DragBox from '../../DragBox/DragBox';\r\nimport ContextMenuBox from '../../ContextMenuBox/ContextMenuBox';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\nimport grid_on from '../../../Icons/grid_on.svg';\r\n\r\n/*Pencil*/\r\nclass Grid extends Placement {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Grid.className;\r\n    //const {columns, rows} = this.props;\r\n    this.state.columns = 8;\r\n    this.state.rows = 8;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n    var column = sk.width/this.state.columns;\r\n  \tvar row = sk.height/this.state.rows;\r\n    var elem = this.next;\r\n\r\n  \tsk.background(0);\r\n  \tif(!elem) sk.stroke(255);\r\n  \tfor(var i = 0; i < this.state.columns; i++) {\r\n      sk.push();\r\n        sk.translate(column * i, 0);\r\n        if(!elem) sk.line(0, 0, 0, sk.height);\r\n    \t\tfor(var j = 0; j < this.state.rows; j++) {\r\n          sk.push();\r\n            sk.translate(0, j * row);\r\n            if(!elem) sk.line(0, 0, sk.width, 0);\r\n            if(elem) {\r\n              sk.noStroke();\r\n              sk.push();\r\n                sk.translate(column / 2, row / 2);\r\n                sk.scale(row / 2, column / 2);\r\n                elem.draw(sk);\r\n              sk.pop();\r\n              /*elem.x = i * column + x;\r\n              elem.y = j * row + y;*/\r\n            }\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n\r\n  }\r\n\r\n\r\n  renderBox() {\r\n    return(\r\n      <>\r\n        <SliderBox\r\n        min={1}\r\n        max={20}\r\n        defaultValue={this.state.columns}\r\n        marks={{1: 1, 20: 20}}\r\n        step={1}\r\n        onChange={(value) => {this.setState({columns: value, rows: value});}}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nGrid.className = \"Grid\";\r\nGrid.icon = grid_on;\r\n\r\nexport default Grid;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './RangeBox.css';\r\n\r\nclass RangeBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        let trackStyleArray = new Array(this.props.count);\r\n        trackStyleArray.fill({height: '8px', backgroundColor: 'black', borderRadius: 'unset' });\r\n        let handleStyleArray = new Array(this.props.count);\r\n        handleStyleArray.fill({marginTop: '-3px', borderColor: 'black' });\r\n        return(\r\n        <Range\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        count={this.props.count}\r\n        pushable={this.props.pushable}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={trackStyleArray}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={handleStyleArray}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value); Workspace.forceUpdate();}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default RangeBox;\r\n","import React, { Component } from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport 'rc-slider/assets/index.css';\r\nimport './Markov.css';\r\nimport Workspace from '../Workspace/Workspace';\r\nimport RangeBox from '../Input/RangeBox/RangeBox';\r\nimport shortid from 'shortid';\r\n\r\n/*Pencil*/\r\nclass Markov extends BoxGroup {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Markov.className;\r\n    this.proba = [];\r\n    this.elementsLength = this.state.children.length;\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n    this.idElement = [];\r\n  }\r\n\r\n  setChildren(children) {\r\n    super.setChildren(children);\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n  }\r\n\r\n  draw(sk) {\r\n    let length = this.state.children.length;\r\n    if(length === 0) return;\r\n    let element = this.elements[this.currentState];\r\n    if(length === 1) {\r\n      element.draw(sk);\r\n      return;\r\n    }\r\n    let proba = 0;\r\n    let rand = parseInt(Math.random() * (100));\r\n    let i;\r\n\r\n    for(i = 0; i < length && rand >= proba; ++i) {\r\n      proba = this.proba[this.currentState][i];\r\n    }\r\n\r\n    this.elements[i - 1].draw(sk);\r\n    this.currentState = i - 1;\r\n  }\r\n\r\n  renderBox() {\r\n    const length = this.state.children.length;\r\n    let defaultValues = [];\r\n    let sliders;\r\n\r\n    for(let i = 1; i <= length - 1; ++i) {\r\n      defaultValues.push((100 / length) * i);\r\n    }\r\n\r\n    if(length - 1 > 0) {\r\n      let propsRange = {\r\n        min: 0,\r\n        max: 100,\r\n        defaultValue: defaultValues,\r\n        marks: {0:0, 100:1},\r\n        step: 10,\r\n        count: length - 1,\r\n        pushable: 0\r\n      };\r\n\r\n      sliders = this.state.children.map((child, index) => {\r\n          if(this.elementsLength !== length) {\r\n            this.proba[index] = defaultValues;\r\n            this.idElement[index] = shortid.generate();\r\n          }\r\n          propsRange.key = this.idElement[index];\r\n          propsRange.onChange = (value) => {this.proba[index] = value; Workspace.forceUpdate();}\r\n          return <RangeBox {...propsRange}/>;\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.elementsLength = length;\r\n\r\n    return(\r\n      <>\r\n        {sliders}\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nMarkov.className = \"Markov\";\r\nMarkov.icon = undefined;\r\n\r\nexport default Markov;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Transform.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Transform extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Transform.className;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nTransform.className = \"Transform\";\r\nTransform.icon = undefined;\r\n\r\nexport default Transform;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Translate.css';\r\nimport translate from '../../../Icons/translate.svg';\r\n\r\n/*Pencil*/\r\nclass Translate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Translate.className;\r\n    this.destX = 10;\r\n    this.destY = 10;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.translate(this.destX, this.destY);\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nTranslate.className = \"Translate\";\r\nTranslate.icon = translate;\r\n\r\n\r\nexport default Translate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Rotate.css';\r\nimport rotate from '../../../Icons/rotate.svg';\r\n\r\n/*Pencil*/\r\nclass Rotate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rotate.className;\r\n    this.rotate = 20;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.rotate(sk.radians(this.rotate));\r\n      if(this.next !== undefined) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nRotate.className = \"Rotate\";\r\nRotate.icon = rotate;\r\n\r\nexport default Rotate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Color.css';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Color extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Color.className;\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = 255;\r\n    this.unauthorized = [\"Placement\", \"Color\"];\r\n  }\r\n\r\n  draw(sk) {\r\n    let c = sk.color(this.r, this.g, this.b, this.a);\r\n    sk.fill(c);\r\n    if(this.next) {\r\n      this.next.draw(sk);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nColor.className = \"Color\";\r\nColor.icon = undefined;\r\n\r\nexport default Color;\r\n","import React, { Component } from 'react';\r\nimport Color from './Color';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Red extends Color {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.r = 255;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = 255;\r\n  }\r\n}\r\n\r\nRed.className = \"Red\";\r\nRed.icon = undefined;\r\n\r\nexport default Red;\r\n","import React, { Component } from 'react';\r\nimport Color from './Color';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Blue extends Color {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 255;\r\n    this.a = 255;\r\n  }\r\n\r\n}\r\n\r\nBlue.className = \"Blue\";\r\nBlue.icon = undefined;\r\n\r\nexport default Blue;\r\n","import React, { Component } from 'react';\r\nimport Color from './Color';\r\nimport p5 from 'p5';\r\n\r\n/*Pencil*/\r\nclass Green extends Color {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.r = 0;\r\n    this.g = 255;\r\n    this.b = 0;\r\n    this.a = 255;\r\n  }\r\n\r\n}\r\n\r\nGreen.className = \"Green\";\r\nGreen.icon = undefined;\r\n\r\nexport default Green;\r\n","import Figure from './Figures/Figure';\r\nimport Rectangle from './Figures/Rectangle/Rectangle';\r\nimport Triangle from './Figures/Triangle/Triangle';\r\nimport Ellipse from './Figures/Ellipse/Ellipse';\r\nimport Placement from './Placement/Placement';\r\nimport Grid from './Placement/Grid/Grid';\r\nimport Markov from './Markov/Markov';\r\nimport Transform from './Transforms/Transform';\r\nimport Translate from './Transforms/Translate/Translate';\r\nimport Rotate from './Transforms/Rotate/Rotate';\r\nimport Color from './Transforms/Colors/Color';\r\nimport Red from './Transforms/Colors/Red';\r\nimport Blue from './Transforms/Colors/Blue';\r\nimport Green from './Transforms/Colors/Green';\r\n\r\nexport function getClassFromName(name) {\r\n  switch(name) {\r\n    case('Figure'):\r\n      return Figure;\r\n    case('Rectangle'):\r\n      return Rectangle;\r\n    case('Triangle'):\r\n      return Triangle;\r\n    case('Ellipse'):\r\n      return Ellipse;\r\n    case('Placement'):\r\n      return Placement;\r\n    case('Grid'):\r\n      return Grid;\r\n    case('Markov'):\r\n      return Markov;\r\n    case('Transform'):\r\n      return Transform;\r\n    case('Color'):\r\n      return Color;\r\n    case('Red'):\r\n      return Red;\r\n    case('Blue'):\r\n      return Blue;\r\n    case('Green'):\r\n      return Green;\r\n    case('Translate'):\r\n      return Translate;\r\n    case('Rotate'):\r\n      return Rotate;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n//import Icons\r\nimport SVG from 'react-svg'\r\nimport icon_save_alt from '../../Icons/save_alt.svg';\r\nimport icon_code from '../../Icons/code.svg';\r\n// import Components\r\nimport Workspace from '../../Components/Workspace/Workspace';\r\n// import Boxes\r\nimport {getClassFromName} from '../../Components/Index';\r\n\r\nwindow.addClassToElement = function(name, target) {\r\n  let cl = getClassFromName(name);\r\n  target.addChild(cl);\r\n  if(!(target instanceof Workspace)) {\r\n    Workspace.forceUpdate();\r\n  }\r\n};\r\n\r\nwindow.getIconClassFromName = function(name) {\r\n  let cl = getClassFromName(name);\r\n  if(cl) {\r\n    return cl.icon;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nwindow.isAuthorized = function(type, unauthorized) {\r\n  let r = true;\r\n  if(!type) return false;\r\n\r\n  if(unauthorized instanceof Array) {\r\n    let obj;\r\n    if(typeof type === \"string\") {\r\n      let cl = getClassFromName(type);\r\n      obj = new cl();\r\n    } else {\r\n      obj = new type();\r\n    }\r\n\r\n    for(let i = 0; i < unauthorized.length && r; ++i) {\r\n      console.log(unauthorized);\r\n      let unauthorizedClass = getClassFromName(unauthorized[i]);\r\n      if(unauthorizedClass === null) {\r\n        console.error(unauthorized[i] + \" : Invalid unauthorized Class\");\r\n        continue;\r\n      }\r\n      r = r && !(obj instanceof unauthorizedClass);\r\n    }\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\nclass App extends Component {\r\n  state = {\r\n    DownloadName: \"Untitled\",\r\n    DownloadFormat: \"svg\"\r\n  }\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  downloadImage = function(el) {\r\n    //var canvas = document.getElementById(\"defaultCanvas0\");\r\n    //var image = canvas.toDataURL(\"image/jpeg\");\r\n    //el.href = image;\r\n    Canvas.savePaper(this.state.DownloadName, this.state.DownloadFormat);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header border-bottom\">\r\n          <div className=\"App-logo\">Paper&#123; &#125;</div>\r\n        </header>\r\n        <main>\r\n            <Workspace>\r\n\r\n            </Workspace>\r\n            <div className=\"render border-left\">\r\n              <div className=\"editionMenu border-bottom\">\r\n                <div className=\"save\">\r\n                  <a className=\"button save__button border-right\" onClick={(event) => this.downloadImage(event.target)}>\r\n                    <SVG src={icon_save_alt}/>\r\n                  </a>\r\n                  <input className=\"save__name\" type=\"text\" value={this.state.DownloadName} onChange={(event) => {this.setState({DownloadName: event.target.value})}}/>\r\n                  <div className=\"save__format\">\r\n                    <input id=\"save__svg\" type=\"radio\" value=\"svg\" name=\"saveFormat\" defaultChecked onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__svg\" className=\"save__formatItem button border-left\">.svg</label>\r\n                    <input id=\"save__jpg\" type=\"radio\" value=\"jpg\" name=\"saveFormat\" onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__jpg\" className=\"save__formatItem button border-left\">.jpg</label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"button displayCode border-left\">\r\n                  <SVG src={icon_code}/>\r\n                </div>\r\n              </div>\r\n                <Canvas/>\r\n            </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Containers/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { configure } from 'enzyme';\r\nimport Adapter from 'enzyme-adapter-react-16';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}